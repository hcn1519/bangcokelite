<head>
  <!-- jQuery library (served from Google) -->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
  <!-- bxSlider Javascript file -->
  <script src="/js/jquery.bxslider.min.js"></script>
  <!-- bxSlider CSS file -->
  <link href="/css/jquery.bxslider.css" rel="stylesheet" />
  <script type="text/javascript" src="//apis.daum.net/maps/maps3.js?apikey=db900969ca97b093efb0ddf86d45f9e5"></script>

<style>

.container {
    background-color: #f5f5f5;
}
.row {
    margin:0;
}

.col-xs-3, .col-xs-6, .col-xs-12 {
  padding:0;
}

.col-xs-9 {
  padding-right: 0;    
}

.col-sm-6 {
  padding: 0;
}
.info {
  border: 1px solid #999999;
  background-color: #ffffff;
  padding:15px;
}

.oneline {
    color: #888888; 
}

.hasuk_name {
    font-size: 22px;
    font-weight: 600;
    color: #2ecc71;
}

.info_list {
    color: #888888;
}

.price {
  color: #c9302c;
  font-weight: 600;
  font-size: 20px;    
}

.kok {
    color: #888888;
    font-size: 14px;
    padding-top: 20px;
}
hr {
    margin-top: 5px;
    margin-bottom: 5px;
    border: 0;
    border-top: 1px solid #aeaeae;
}

@media (max-width: 320px) {
.col-xs-3 {
    width: 20%;
}    

.col-xs-9 {
    width: 80%;
}

.info_list, .info_content {
    font-size: 15px;  
}

}

@media (max-width: 767px) {
#map {
  height: 200px;
  background-color: #ffffff;
  border: 1px solid #999999;
}

.room {
  width:80px; 
  display:inline-block;
}

.manwon {
    font-size: 12px;
}

.photo {
    margin-top: 30px; 
}
.photo, .info,#map {
    margin-bottom: 30px;
}    
}

@media(min-width:768px) {
   
.price_margin {
    padding-top: 7px;    
}   

.col-xs-3 {
    width: 20%;
}    

.col-xs-9 {
    width: 80%;
}

.container {
  padding: 30px;
  width: 970px;
  margin-bottom: 70px;
  
}

.row {
    margin-bottom: 2px;
}
.oneline {
    display: inline-block;
}

.info_list {
    font-size: 14px;
}

.info_content {
    font-size: 15px;  
}

.room {
  width:60px; 
  display:inline-block;
}

.manwon {
  font-size: 12px;
}

.photo {
  margin-right: 5px;
}

.info {
  margin-left: 5px; 
  padding: 20px;
  padding-top: 15px;
}

.title {
  position: relative;
}

#map {
  height: 500px; 
  background-color: #ffffff;
  border: 1px solid #999999;
}  

}

@media(min-width: 1200px) {

}


.nav-pills>li.active>a, .nav-pills>li.active>a:focus, .nav-pills>li.active>a:hover {
    color: #2ecc71;
    background-color: #ffffff;
}

.nav-tabs.nav-justified{
    border-left: 1px solid #999999;
    border-top: 1px solid #999999;
}

.nav-tabs.nav-justified>li>a {
    border-radius: 0;
    border-top: 0; border-bottom:0; border-right: 1px solid #999999; border-left: 0;
    color: #999999;
    background-color:#f5f5f5;
}

.nav-tabs.nav-justified>.active>a, .nav-tabs.nav-justified>.active>a:focus, .nav-tabs.nav-justified>.active>a:hover {
    color: #2ecc71;
    background-color:#ffffff;
        border-top: 0; border-bottom:0; border-right: 1px solid #999999; border-left: 0;
}

.tip-label {
  background-color: #ffffff;
  color: #ee8176;
  border-color: #ee8176;
}

.small-photo {
    padding: 10px;
    overflow: hidden;
    background-color: #777777;
}

.img-slider-container {
    height: 65px;
    overflow: hidden;
}

.img-slider-container a {
    position: relative;
    display: block;
    float: left;
    overflow: hidden;
    cursor: pointer;
}


.img-slider-container a img {
   
}
.img-slider-container a.active img {
    border: 2px solid #fcb514;
}


.tab-content > .tab-pane {
    display: block;
    height:0;
    overflow:hidden;
}

.tab-content > .active {
    display: block;
    height:auto;
}

</style>

</head>
<body>
<div class="container">
    <div class="row">
        <div class="col-sm-6 col-xs-12">
            <div class="photo">
                <div class="photo-zone"> 
              <ul id="myTabs" class="btn-group nav nav-tabs nav-pills nav-justified" style="" role="tablist">
                  <li id="pictab1" role="presentation" class="active"><a href="#photo" aria-controls="photo" role="tab" data-toggle="tab">사진</a></li>
                  <li id="pictab3" role="presentation"><a href="#roadviewcon" aria-controls="roadviewcon" role="tab" data-toggle="tab">로드뷰</a></li>
              </ul>
            
          <!-- Tab panes -->
          <div class="tab-content">
            <div id="photo" role="tabpanel" class="tab-pane active">
              <ul id="bxslider">
                <!--
                <%# for i in 1..8 %>
                  <%# unless @hasuk_house.room_img1.nil? %>
                    <li>
                      <img src="<%#= @hasuk_house.room_img1 %>" alt="" title="
                      <%# unless @hasuk_house.room_price1.nil? %>월세 <%#= @hasuk_house.room_price1 %>만 원<%# end %>
                      <%# unless @hasuk_house.room_description1.nil? %> <%#= @hasuk_house.room_description1 %><%# end %>">
                    </li>
                  <%# end %>
                <%# end %>
                -->
                <li><img src="/images/bangs/ha1.jpg" alt="" title="" /> </li>
                <li><img src="/images/bangs/ha2.jpg" alt="" title="" /> </li>
                <li><img src="/images/bangs/ha3.jpg" alt="" title="" /> </li>
                <li><img src="/images/bangs/ha4.jpg" alt="" title="" /> </li>
                <li><img src="/images/bangs/ha5.jpg" alt="" title="" /> </li>
                <li><img src="/images/bangs/ha6.jpg" alt="" title="" /> </li>
              </ul>

    <!-- The thumbnails -->
    
              <ul id="bxslider-pager">
                <li data-slideIndex="0"><a href=""><img style="max-height:55px" src="/images/bangs/ha1.jpg" ></a></li>
                <li data-slideIndex="1"><a href=""><img style="max-height:55px" src="/images/bangs/ha2.jpg" ></a></li>
                <li data-slideIndex="2"><a href=""><img style="max-height:55px" src="/images/bangs/ha3.jpg" ></a></li>
                <li data-slideIndex="3"><a href=""><img style="max-height:55px" src="/images/bangs/ha4.jpg" ></a></li>
                <li data-slideIndex="4"><a href=""><img style="max-height:55px" src="/images/bangs/ha5.jpg" ></a></li>
                <li data-slideIndex="5"><a href=""><img style="max-height:55px" src="/images/bangs/ha6.jpg" ></a></li>
              </ul>
          
            </div>
            <div id="roadviewcon" style="width:100%;" role="tanpanel" class="tab-pane">
              <div id="roadview" style="width:100%; height:445px; max-height:500px"></div>
                  <script>
                    
                    var roadviewContainer = document.getElementById('roadview'); //로드뷰를 표시할 div
                    var roadview = new daum.maps.Roadview(roadviewContainer); //로드뷰 객체
                    var roadviewClient = new daum.maps.RoadviewClient(); //좌표로부터 로드뷰 파노ID를 가져올 로드뷰 helper객체
                    
                    var LatLng = new daum.maps.LatLng(<%= @hasuk_house.lat %>, <%= @hasuk_house.lng %>);
                    var position = LatLng;
                    
                    // 특정 위치의 좌표와 가까운 로드뷰의 panoId를 추출하여 로드뷰를 띄운다.
                    roadviewClient.getNearestPanoId(position, 50, function(panoId) {
                        roadview.setPanoId(panoId, position); //panoId와 중심좌표를 통해 로드뷰 실행
                    });
                  </script>
            </div>
            
          </div> 
        </div> 
            </div>
        </div>
        <div class="col-sm-6 col-xs-12">
            <div class="info">
                <div class="row">
                    <span class="hasuk_name" style="display: inline-block">이화하숙&nbsp</span>
                    <div class="oneline">한줄설명이 들어가는 공간입니다.</div>
                </div>
                <div class="row" style="margin-top: 10px">
                    <div class="info_list col-xs-3">유형</div>
                    <div class="info_content col-xs-9">일반하숙 / 여성전용</div>
                </div>
                <div class="row">
                    <div class="info_list col-xs-3 price_margin">월세</div>
                    <div class="info_content col-xs-9">
                        <div class="col-sm-6 col-xs-12">
                            <span class="room">미니룸</span>
                            <span class="price">40~50</span><span class="manwon">만원</span>
                        </div>
                        <div class="col-sm-6 col-xs-12">
                            <span class="room">원룸형</span>
                            <span class="price">45~55</span><span class="manwon">만원</span>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="info_list col-xs-3 price_margin">협의</div>
                    <div class="info_content col-xs-9">
                        <div class="col-sm-6 col-xs-12">
                            <span class="room">잠만자면</span>
                            <span class="price">35</span><span class="manwon">만원~</span>
                        </div>
                        <div class="col-sm-6 col-xs-12">
                            <span class="room">2인1실</span>
                            <span class="price">45</span><span class="manwon">만원~</span>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="info_list col-xs-3">예치금</div>
                    <div class="info_content col-xs-9">20<span class="manwon">만원</span></div>                                        
                </div> 
                <div class="row">
                    <div class="info_list col-xs-3">계약기간</div>
                    <div class="info_content col-xs-9">3<span class="manwon">개월 이상</span></div>                    
                </div>
                <hr>
                <div class="row">
                    <div class="info_list col-xs-3">통학</div>
                    <div class="info_content col-xs-9">
                        <div class="row">이화여대 정문 <span class="">3</span><span class="manwon">분</span>(300m)</div>
                        <div class="row">연세대 정문 3<span class="manwon">분</span>(300m)</div>
                    </div> 
                </div>
                <div class="row">
                    <div class="info_list col-xs-3">교통</div>
                    <div class="info_content col-xs-9">
                        <div class="row">이대역 1<span class="manwon">분</span>(50m)</div>
                        <div class="row">버스정류장 3<span class="manwon">분</span>(240m)</div>
                    </div> 
                </div>
                <hr>
                <div class="row">
                    <div class="info_list col-xs-12">상세설명</div>
                    <div class="info_content col-xs-12">설명설명설명</div>
                </div>
                <hr>
                <div class="row">
                    <div class="info_list col-xs-3">문의</div>
                    <div class="info_content col-xs-9">
                        <div class="row">010-1234-1234(연락시 참고사항)</div>
                        <div class="row">주소</div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-6 kok">
                        조회수 3 &nbsp&nbsp&nbsp ♡3
                    </div>
                    <div class="col-xs-6">
                        <button type="button" class="btn btn-danger btn-lg" style="font-size: 15px; width: 80%; float: right;">콕하기</button>
                    </div>
                </div>
                <div class="row">
                </div> 
            </div>
        </div>
    </div> 
    <div class="row">
        <div class="col-xs-12">
            <div class="location">
                <div class="hasuk_name">위치</div>
                <div id="map"></div>
                  <script>
                    var container = document.getElementById('map'); //지도를 담을 영역의 DOM 레퍼런스
              
                    var LatLng = new daum.maps.LatLng(<%= @hasuk_house.lat %>, <%= @hasuk_house.lng %>);
                    var options = { //지도를 생성할 때 필요한 기본 옵션
                    	center: LatLng, //지도의 중심좌표.
                    	level: 3 //지도의 레벨(확대, 축소 정도)
                    };
                  
                    var map = new daum.maps.Map(container, options); //지도 생성 및 객체 리턴
                    var markerPosition  = LatLng;

                    var marker = new daum.maps.Marker({
                        position: markerPosition
                    });
                    
                    marker.setMap(map);
                  </script>
            </div>    
        </div>
    </div> 
</div>    


<script>
var $j = jQuery.noConflict();

var realSlider= $j("ul#bxslider").bxSlider({
      speed:1000,
      pager:false,
      controls: true,
      nextText:'<span></span>',
      prevText:'<span></span>',
      infiniteLoop:true,
      captions: true,
      onSlideBefore:function($slideElement, oldIndex, newIndex){
        changeRealThumb(realThumbSlider,newIndex);
        
      }
      
    });
    
    var realThumbSlider=$j("ul#bxslider-pager").bxSlider({
      minSlides: 8,
      maxSlides: 8,
      slideWidth: 100,
      slideMargin: 12,
      moveSlides: 1,
      pager:false,
      speed:1000,
      controls: true,
      infiniteLoop:false,
      hideControlOnEnd:true,
      nextText:'<span></span>',
      prevText:'<span></span>',
      onSlideBefore:function($slideElement, oldIndex, newIndex){
        /*$j("#sliderThumbReal ul .active").removeClass("active");
        $slideElement.addClass("active"); */

      }
    });
    
    linkRealSliders(realSlider,realThumbSlider);
    
    if($j("#bxslider-pager li").length<5){
      $j("#bxslider-pager .bx-next").hide();
    }

// sincronizza sliders realizzazioni
function linkRealSliders(bigS,thumbS){
  
  $j("ul#bxslider-pager").on("click","a",function(event){
    event.preventDefault();
    var newIndex=$j(this).parent().attr("data-slideIndex");
        bigS.goToSlide(newIndex);
  });
}

//slider!=$thumbSlider. slider is the realslider
function changeRealThumb(slider,newIndex){
  
  var $thumbS=$j("#bxslider-pager");
  $thumbS.find('.active').removeClass("active");
  $thumbS.find('li[data-slideIndex="'+newIndex+'"]').addClass("active");
  
  if(slider.getSlideCount()-newIndex>=4)slider.goToSlide(newIndex);
  else slider.goToSlide(slider.getSlideCount()-4);

}


$(document).ready(function(){
  $("#pictab1").click(function(){
    
    $(this).addClass("active");
    $("#pictab2").removeClass("active");
    $("#pictab3").removeClass("active");
  });
  $("#pictab2").click(function(){
    
    $(this).addClass("active");
    $("#pictab1").removeClass("active");
    $("#pictab3").removeClass("active");
  });
  $("#pictab3").click(function(){
    
    $(this).addClass("active");
    $("#pictab1").removeClass("active");
    $("#pictab2").removeClass("active");
  });
  
});
</script>

</body>












