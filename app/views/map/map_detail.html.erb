<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
<!--googlemap 넣기-->
    <script type="text/javascript"
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDdcrzqmVvJgOpIy23Dlw08MHrQN1C17Sg&libraries=geometry">
    </script>
    <!--jquery 넣기-->
  <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  <!--<link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">-->
  <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
 <script src="/Flat-UI-2.2.2/dist/js/flat-ui.min.js"></script>
    <script type="text/javascript">
    var map = null; 
    //구글맵 기본 설정 시작
      function initialize() {
        //학교별 지도 view 다르게 시작
        if("<%= @univ %>" == "서강"){
          var mapOptions = {
            center: { lat: 37.548717, lng: 126.939051},
            zoom: 17
          };
        } else if ("<%= @univ %>" == "이화") {
          var mapOptions = {
            center: { lat: 37.561803, lng: 126.946909},
            zoom: 15
          };  
        
        } else if("<%= @univ %>" == "연세") {
          var mapOptions = {
            center: { lat: 37.561257, lng: 126.936974},
            zoom: 15
          };  
        } else {
          var mapOptions = {
            center: { lat: 37.557102, lng: 126.940806},
            zoom: 15
          }; 
        } //학교별 지도 view 다르게하기 끝
      map = new google.maps.Map(document.getElementById('map-canvas'),mapOptions);
      
     //학교별 문 이미지 삽입
      //서강대 정문 이미지
        var so_jung = {
        url: '/images/icons/so_jung.png',
        size: new google.maps.Size(50, 24),
        
        };
      
      //서강대 후문 이미지
        var so_who = {
        url: '/images/icons/so_who.png',
        size: new google.maps.Size(50, 24),
        
        };
        
        //서강대 남문 이미지
        var so_nam = {
        url: '/images/icons/so_nam.png',
        size: new google.maps.Size(50, 24),
        
        };
        
        //이대 정문 이미지
        var ew_jung = {
        url: '/images/icons/ew_jung.png',
        size: new google.maps.Size(50, 24),
        
        };
        
        //이대 후문 이미지
        var ew_who = {
        url: '/images/icons/ew_who.png',
        size: new google.maps.Size(50, 24),
        };

        //이대 서문 이미지
        var ew_seo = {
        url: '/images/icons/ew_seo.png',
        size: new google.maps.Size(50, 24),
        
        };
        
        //이대 북문 이미지
        var ew_book = {
        url: '/images/icons/ew_book.png',
        size: new google.maps.Size(50, 24),
        };        
        
        //연대 정문 이미지
        var yo_jung = {
        url: '/images/icons/yo_jung.png',
        size: new google.maps.Size(50, 24),
        };
        
        //연대 서문 이미지
        var yo_seo = {
        url: '/images/icons/yo_seo.png',
        size: new google.maps.Size(50, 24),
        };
        
        //연대 남문 이미지
        var yo_nam = {
        url: '/images/icons/yo_nam.png',
        size: new google.maps.Size(50, 24),
        };
        
        //연대 동문 이미지
        var yo_dong = {
        url: '/images/icons/yo_dong.png',
        size: new google.maps.Size(50, 24),
        };
        
        //서강대 문
        //정문
      var doorMarker1 = new google.maps.Marker({
        position: {lat: 37.551405, lng: 126.937727},
        map: map,
        icon: so_jung
      });
          
          
      //후문
      var doorMarker3 = new google.maps.Marker({
        position: {lat: 37.550660, lng: 126.943936},
        map: map,
        icon: so_who
      }); 
      
        //남문
      var doorMarker2 = new google.maps.Marker({
        position: {lat: 37.549376, lng: 126.938918},
        map: map,
        icon: so_nam
      });
      
      
      
      //이화여대 문
      
      //정문
      var doorMarker4 = new google.maps.Marker({
        position: {lat: 37.559727, lng: 126.945536},
        map: map,
        icon: ew_jung
      });
      
      //후문
      var doorMarker5 = new google.maps.Marker({
        position: {lat: 37.563548, lng: 126.944605},
        map: map,
        icon: ew_who
      });
      

    //북문
      var doorMarker6 = new google.maps.Marker({
        position: {lat: 37.568269, lng: 126.949951},
        map: map,
        icon: ew_book
      });
      
      
      //서문
      var doorMarker7 = new google.maps.Marker({
        position: {lat: 37.560564, lng: 126.943427},
        map: map,
        icon: ew_seo
      }); 

      //연세대 문
      
      //정문
      var doorMarker8 = new google.maps.Marker({
        position: {lat: 37.560252, lng: 126.936760},
        map: map,
        icon: yo_jung
      });
      
      //동문
      
      //서문
      var doorMarker10 = new google.maps.Marker({
        position: {lat: 37.563726, lng: 126.933921},
        map: map,
        icon: yo_seo
      });
      
      
      //남문
      var doorMarker11 = new google.maps.Marker({
        position: {lat: 37.561191, lng: 126.933139},
        map: map,
        icon: yo_nam
      });   
     
      //동문 
      var doorMarker12 = new google.maps.Marker({
        position: {lat: 37.56635, lng: 126.94585},
        map: map,
        icon: yo_dong
      });    
      

   //서강A(서강대 남문)
  var sogang_a = [
    {lat:37.547856, lng:126.941885},{lat:37.546631, lng:126.940732},{lat:37.547222, lng:126.937739},
    {lat:37.549774, lng:126.936365},{lat:37.549758, lng:126.937520},{lat:37.549687, lng:126.937893},
    {lat:37.549706, lng:126.938092},{lat:37.549815, lng:126.938444},{lat:37.549394, lng:126.938764},
    {lat:37.549177, lng:126.939053},{lat:37.547856, lng:126.941885}
    ];
    
  //이화A(이대 정문)
  var ewha_a = [ //이대 정문 구역 //신촌기차역에서 시작. 이대정문구역이랑 겹침
    {lat:37.559112, lng:126.942823},{lat:37.558547, lng:126.942733},//구역5, 공통구역이랑 만나는 꼭지점
    {lat:37.556677, lng:126.942861},{lat:37.556880, lng:126.946686},
    {lat:37.558752, lng:126.946537},{lat:37.559181, lng:126.946352},
    {lat:37.559162, lng:126.945679},{lat:37.559112, lng:126.942823}
    ];
  
  //이화B(신촌기차역)
  var ewha_yonsei_b = [
    {lat:37.558557, lng:126.942693},{lat:37.559081, lng:126.942178},{lat:37.559053, lng:126.939687},{lat:37.559004, lng:126.939428},
    {lat:37.557559, lng:126.937469},{lat:37.556957, lng:126.937513},{lat:37.555946, lng:126.937495},{lat:37.555901, lng:126.937583},
    {lat:37.555460, lng:126.937813},{lat:37.556551, lng:126.941061},{lat:37.556686, lng:126.942824}
    ];
    
    
  //이화-연세D(이대후문/연대동문) (B,C는 겹치는 구역)
  var ewha_yonsei_d = [             
    {lat:37.566943, lng:126.946975},{lat:37.566913, lng:126.947406},{lat:37.566832, lng:126.947586},
    {lat:37.567125, lng:126.947889},{lat:37.566981, lng:126.948396},{lat:37.567104, lng:126.948498},
    {lat:37.567276, lng:126.948916},{lat:37.567393, lng:126.948882},{lat:37.567601, lng:126.948954},
    {lat:37.567733, lng:126.949420},{lat:37.568013, lng:126.949434},{lat:37.568188, lng:126.949329},
    {lat:37.568298, lng:126.949150},{lat:37.569115, lng:126.948040},{lat:37.569301, lng:126.947577},
    {lat:37.569189, lng:126.946146},{lat:37.569062, lng:126.945272},{lat:37.569065, lng:126.944933},
    {lat:37.568970, lng:126.944677},{lat:37.568506, lng:126.944824},{lat:37.568007, lng:126.945011},
    {lat:37.567569, lng:126.945156},{lat:37.567115, lng:126.945471},{lat:37.566486, lng:126.945841},
    {lat:37.566542, lng:126.946132}
    ];
    
  //연세A(연대 정문) (B는 겹치는 구역)
  var yonsei_a = [  //명물길 예림고시원 앞에서 시작
    {lat:37.559068, lng:126.939704},{lat:37.559282, lng:126.939681},{lat:37.559358, lng:126.936327},
    {lat:37.559218, lng:126.934372},{lat:37.558977, lng:126.933753},{lat:37.558377, lng:126.932946},
    {lat:37.557389, lng:126.932107},{lat:37.556987, lng:126.931930},
    {lat:37.555306, lng:126.936883},
    {lat:37.555458, lng:126.937795},{lat:37.555890, lng:126.937567},
    {lat:37.555941, lng:126.937473},{lat:37.556957, lng:126.937492},{lat:37.557570, lng:126.937447},
    {lat:37.559014, lng:126.939414},{lat:37.559068, lng:126.939704}
    ];
     
  //연세C(연대 남문) 
  var yonsei_c = [ 
    {lat:37.559229, lng:126.934336},{lat:37.559830, lng:126.934185},{lat:37.562716, lng:126.931055},{lat:37.564505, lng:126.929139},//연희교차로
    {lat:37.560915, lng:126.926766},{lat:37.559668, lng:126.926766},{lat:37.559598, lng:126.927887},
    {lat:37.559265, lng:126.928693},{lat:37.559191, lng:126.929309},{lat:37.558960, lng:126.929542},
    {lat:37.558817, lng:126.930105},{lat:37.557610, lng:126.931322},{lat:37.557426, lng:126.932094},//연대 정문구역과 만나는 지점  
    {lat:37.558419, lng:126.932926},{lat:37.559018, lng:126.933782},{lat:37.559229, lng:126.934336}
    ];
    
  //연세E(연대 서문)  
  var yonsei_e = [
    {lat:37.564575, lng:126.929218},{lat:37.569033, lng:126.932693},
    {lat:37.567914, lng:126.934999},{lat:37.567919, lng:126.935547},
    {lat:37.567540, lng:126.935828},{lat:37.566556, lng:126.935190},{lat:37.566350, lng:126.934866},
    {lat:37.566198, lng:126.934404},{lat:37.563799, lng:126.933859},{lat:37.563453, lng:126.933630},
    {lat:37.563158, lng:126.932769},{lat:37.563256, lng:126.932042},{lat:37.562751, lng:126.931375},{lat:37.564575, lng:126.929218}
    ];
    

  //서강E(서강대 남문)
  var sogang_a = new google.maps.Polygon({
    paths: sogang_a,
    //strokeColor: '#594F4F',
    strokeOpacity: 0.3,
    strokeWeight: 1,
    fillColor: '#F75D59',
    fillOpacity: 0.3
  });
  <% if @univ.include? "서강" %>
  sogang_a.setMap(map);

  <% end %>
  var ewha_a = new google.maps.Polygon({
    paths: ewha_a,
    //strokeColor: '#594F4F',
    strokeOpacity: 0.3,
    strokeWeight: 1,
    fillColor: '#F87217',
    fillOpacity: 0.3
  });
  <% if @univ.include? "이화" %>
  ewha_a.setMap(map);
  <% end %>
  
   //이화-연세B(신촌기차역)
  var ewha_yonsei_b = new google.maps.Polygon({
    paths: ewha_yonsei_b,
    //strokeColor: '#594F4F',
    strokeOpacity: 0.3,
    strokeWeight: 1,
    fillColor: '#7FE817',
    fillOpacity: 0.3
  });
<% unless @univ.include? "서강" %>
  ewha_yonsei_b.setMap(map);
  <% end %>
  
  
   var ewha_yonsei_d = new google.maps.Polygon({
    paths: ewha_yonsei_d,
    //strokeColor: '#594F4F',
    strokeOpacity: 0.3,
    strokeWeight: 1,
    fillColor: '#4FD1D1',
    fillOpacity: 0.3
  });
<% unless @univ.include? "서강" %>
  ewha_yonsei_d.setMap(map);

<% end %>


  //연세A(연대 정문)
   var yonsei_a = new google.maps.Polygon({
    paths: yonsei_a,
    //strokeColor: '#594F4F',
    strokeOpacity: 0.3,
    strokeWeight: 1,
    fillColor: '#B51414',
    fillOpacity: 0.2
   });
<% if @univ.include? "연세" %>
  yonsei_a.setMap(map);
   <% end %>
   
  //연세C(연대 남문) 
 var yonsei_c = new google.maps.Polygon({
    paths: yonsei_c,
    //strokeColor: '#594F4F',
    strokeOpacity: 0.3,
    strokeWeight: 1,
    fillColor: '#FFFF00',
    fillOpacity: 0.2
  });
<% if @univ.include? "연세" %>
  yonsei_c.setMap(map);
  <% end %>
  
  //연세E(연대 서문) 
 var yonsei_e = new google.maps.Polygon({
    paths: yonsei_e,
    //strokeColor: '#594F4F',
    strokeOpacity: 0.3,
    strokeWeight: 1,
    fillColor: '#1414B4',
    fillOpacity: 0.2
  });
  <% if @univ.include? "연세" %>
   yonsei_e.setMap(map); 
 <% end %>   
 
   
         //학교별 마커 띄우기 시작
     
       $.get("/map/from_hasuk", function(data, status){
             for (var i = 0; i < data.length; i++){
                   
              var univ1 = data[i].univ_distance1;
              var univ2 = data[i].univ_distance2;
              var univ3 = data[i].univ_distance3;
              var infowindow = null;
              var infoWindow = new google.maps.InfoWindow();
        
                  var contentString =
                '<div id="infoWindow" style="margin-bottom:5px">'+
                   '<div class="row" style="max-width:240px">'+
                   '<div class="col-md-4 col-sm-4 col-xs-4" style=" width: 100px; padding-left: 5px; padding-right: 0px;">' +
                       '<img src="'+ data[i].room_img1.url + '" height="80px" width="100px">' +
                     '</div>'+
                   '<div class="col-md-7 col-sm-7 col-xs-7" style="width: 140px;padding-right: 0px;">' +
                       '<div class="row" style="margin-left:1px; padding-left:0px; padding-right:0px">' +
                         '<div class="col-md-3 col-sm-3 col-xs-3" style="margin-right:-5px; padding-left:0px; padding-right:0px">' +
                           '<p style="font-size: 20px; margin-top:5px">'+ data[i].price_from +'</p>' +
                         '</div>' +
                         '<div class="col-md-9 col-sm-9 col-xs-9" style="margin-top:6px; margin-bottom:5px; padding-left:0px; padding-right:0px">'+
                          '(예치금:'+ data[i].small_deposit + '만원)&nbsp;'+
                         '</div>'+
                      '</div>'+
                     '<p style="margin-bottom:5px; font-size:12px">거리 : 정문에서 10분</p>' +
                     '<p style="color:#eb9088; margin-bottom:5px; font-size:13px">'+ '#아침,저녁</p>' +
                   '</div>'+
                   '</div>'+
                 '</div>';

            
            var latlng = new google.maps.LatLng(data[i].lat, data[i].lng);
                    
            //공통 요소 - 여기까지만 따로 놓을 수 있음.
           
              
          if (univ1.indexOf("<%= @univ %>") !== -1 || univ2.indexOf("<%= @univ %>") !== -1 || univ3.indexOf("<%= @univ %>") !== -1 ) {    
            //학교까지의 거리를 입력한 부분에서 해당 학교 포함하고 있으면 ok조건
            
            if ("<%= @section %>" =="서강대남문" ) {
              //구역별 검색 조건, 아무 조건 안 누르면 다 뜨게
                map.setCenter({lat: 37.548717, lng: 126.939051}, true);
                map.setZoom(17);
                //구역별 지도 중심 정하기
                
              if(google.maps.geometry.poly.containsLocation(latlng, sogang_a) == true){
                    //해당 polygon에 마커가 있는가 조건
              
              if("<%= @hasuk_kind %>" == data[i].hasuk_kind || "<%= @hasuk_kind %>" == "" ) {
                //하숙 종류별 검색 조건, 아무 조건 안 누르면 다 뜨게
              
              if("<%= @gender %>" == data[i].gender || "<%= @gender %>" == "" ) {
                //성별 종류 검색 조건, 아무 조건 안 누르면 다 뜨게
                
              if( <%= @price_from %> <= data[i].price_from && <%= @price_to %>+ 10 > data[i].price_to ) {  
                //가격 조건 - 최저가보다 크고, 최고가+9만원까지 표시
              
              <% if  @distance.nil? %>
                <% @distance = 0 %>
              <% end %>
              if (<%= @distance %> >= data[i].distance_time1 || <%= @distance %> == 0 ) {  
                var marker = new google.maps.Marker({
                 position: latlng,
                 map: map
                });
                
              marker.setValues({type: "point", id: i});
              var data_id = data[i].id;
              var str_id = data_id.toString();
  
               var hash_id = "a" +str_id;
               markerObj = document.getElementById(hash_id);      
                    //event 구간
//말풍선 출력 
                    google.maps.event.addListener(marker,'mouseover', (function(marker,contentString,infoWindow){ 
                          return function() {
                            infoWindow.setContent(contentString);
                            infoWindow.open(map,marker);

                           }; // function end
                      })(marker,contentString,infoWindow));

//말풍선 지우기
                     google.maps.event.addListener(marker, 'mouseout', (function(infoWindow) {
                       return function()  {
                        infoWindow.close();
                        };
                     })(infoWindow));

 // listbox로 말풍선 띄우기
                     google.maps.event.addDomListener(markerObj, 'mouseover', (function(marker, contentString, infoWindow) {
                       return function() {
                         infoWindow.setContent(contentString);
                         infoWindow.open(map,marker);
                       }; // function end
                     })(marker,contentString,infoWindow));

 //listbox로 말풍선 띄운 것 지우기
                      google.maps.event.addDomListener(markerObj, 'mouseout', (function(infoWindow) {
                        return function() {
                          infoWindow.close();
                        }; // function end
                      })(infoWindow));
 
 //listbox 색칠
                     google.maps.event.addListener(marker, 'mouseover', (function(str_id) {
                      return function() {
                         var result_id = "#" + "a" + str_id;
                       //console.log(result_id);

                       $(document).ready(function() {
                         $(result_id).css("background-color","#cbefde");
                       
                        $(".roomList").animate({scrollTop: $(result_id).offset().top-300 }, 2000);
                       });

                      };

                     })(str_id));

// listbox 색 입히기
                    google.maps.event.addListener(marker, 'mouseover', (function(str_id) {
                     return function() { 
                        var result_id = "#" + "a" + str_id;
                      //console.log(result_id); 

                      $(document).ready(function() {
                        $(result_id).css("background-color","#a4e2c5");
                        
                      });
 
                     };

                    })(str_id));
// listbox 색 지우기
                     google.maps.event.addListener(marker, 'mouseout', (function(str_id) {
                      return function() {
                         var result_id = "#" + "a" + str_id;
                       //console.log(result_id);

                       $(document).ready(function() {
                        $(result_id).css("background-color","#fff");
                        });

                      };

                     })(str_id));
                    marker.setMap(map);
              
                
              }//거리 범위 지정
              }//가격 범위 지정
              }//성별 종류 끝  
              }//하숙 종류 끝
              }//polygon true 끝
                     
             } else if ("<%= @section %>" =="연세대정문" ){
                map.setCenter({lat: 37.557464, lng: 126.936306}, true);
                map.setZoom(17);
                
                if(google.maps.geometry.poly.containsLocation(latlng, yonsei_a) == true){
                 
                    //해당 polygon에 마커가 있는가 조건
              
                if("<%= @hasuk_kind %>" == data[i].hasuk_kind || "<%= @hasuk_kind %>" == "" ) {
                  //하숙 종류별 검색 조건, 아무 조건 안 누르면 다 뜨게
                
                if("<%= @gender %>" == data[i].gender || "<%= @gender %>" == "" ) {
                  //성별 종류 검색 조건, 아무 조건 안 누르면 다 뜨게
                  
                if( <%= @price_from %> <= data[i].price_from && <%= @price_to %>+ 10 > data[i].price_to ) {  
                  //가격 조건 - 최저가보다 크고, 최고가+9만원까지 표시
                
                <% if  @distance.nil? %>
                  <% @distance = 0 %>
                <% end %>
                if (<%= @distance %> >= data[i].distance_time1 || <%= @distance %> == 0 ) { 
                  var marker = new google.maps.Marker({
                    position: latlng,
                    map: map
                });
                marker.setValues({type: "point", id: i});
                
                var data_id = data[i].id;
                var str_id = data_id.toString();
                var hash_id = "a" +str_id;
                
                markerObj = document.getElementById(hash_id);      
                    
            //event 구간
//말풍선 출력 
                    google.maps.event.addListener(marker,'mouseover', (function(marker,contentString,infoWindow){ 
                          return function() {
                            infoWindow.setContent(contentString);
                            infoWindow.open(map,marker);

                           }; // function end
                      })(marker,contentString,infoWindow));

// 말풍선 지우기
                     google.maps.event.addListener(marker, 'mouseout', (function(infoWindow) {
                       return function()  {
                        infoWindow.close();
                        };
                     })(infoWindow));

 // listbox로 말풍선 띄우기
                     google.maps.event.addDomListener(markerObj, 'mouseover', (function(marker, contentString, infoWindow) {
                       return function() {
                         infoWindow.setContent(contentString);
                         infoWindow.open(map,marker);
                       }; // function end
                     })(marker,contentString,infoWindow));

 // listbox로 말풍선 띄운 것 지우기
                      google.maps.event.addDomListener(markerObj, 'mouseout', (function(infoWindow) {
                        return function() {
                          infoWindow.close();
                        }; // function end
                      })(infoWindow));
 
 //listbox 색칠
                     google.maps.event.addListener(marker, 'mouseover', (function(str_id) {
                      return function() {
                         var result_id = "#" + "a" + str_id;
                       //console.log(result_id);

                       $(document).ready(function() {
                         $(result_id).css("background-color","#cbefde");
                       
                        $(".roomList").animate({scrollTop: $(result_id).offset().top-300 }, 2000);
                       });

                      };

                     })(str_id));

// listbox 색 입히기
                    google.maps.event.addListener(marker, 'mouseover', (function(str_id) {
                     return function() { 
                        var result_id = "#" + "a" + str_id;
                      //console.log(result_id); 

                      $(document).ready(function() {
                        $(result_id).css("background-color","#a4e2c5");
                        
                      });
 
                     };

                    })(str_id));

// listbox 색 지우기
                     google.maps.event.addListener(marker, 'mouseout', (function(str_id) {
                      return function() {
                         var result_id = "#" + "a" + str_id;
                       //console.log(result_id);

                       $(document).ready(function() {
                        $(result_id).css("background-color","#fff");
                        });

                      };

                     })(str_id));
                    marker.setMap(map);
                }//거리 범위 지정
                }//가격 범위 지정
                }//성별 종류 끝  
                }//하숙 종류 끝
                }//polygon true 끝  
                
                     
            
            } else if ('<%= @section %>' =="연세대서문"){
                map.setCenter({lat: 37.565672, lng: 126.932181}, true);
                map.setZoom(17);
                
                if(google.maps.geometry.poly.containsLocation(latlng, yonsei_e) == true){
                 
                    //해당 polygon에 마커가 있는가 조건
              
                if("<%= @hasuk_kind %>" == data[i].hasuk_kind || "<%= @hasuk_kind %>" == "" ) {
                  //하숙 종류별 검색 조건, 아무 조건 안 누르면 다 뜨게
                
                if("<%= @gender %>" == data[i].gender || "<%= @gender %>" == "" ) {
                  //성별 종류 검색 조건, 아무 조건 안 누르면 다 뜨게
                  
                if( <%= @price_from %> <= data[i].price_from && <%= @price_to %>+ 10 > data[i].price_to ) {  
                  //가격 조건 - 최저가보다 크고, 최고가+9만원까지 표시
                
                <% if  @distance.nil? %>
                  <% @distance = 0 %>
                <% end %>
                if (<%= @distance %> >= data[i].distance_time1 || <%= @distance %> == 0 ) { 
                  var marker = new google.maps.Marker({
                    position: latlng,
                    map: map
                });
                marker.setValues({type: "point", id: i});
                
                var data_id = data[i].id;
                var str_id = data_id.toString();
                var hash_id = "a" +str_id;
                
                markerObj = document.getElementById(hash_id);      
                    
            //event 구간
//말풍선 출력 
                    google.maps.event.addListener(marker,'mouseover', (function(marker,contentString,infoWindow){ 
                          return function() {
                            infoWindow.setContent(contentString);
                            infoWindow.open(map,marker);

                           }; // function end
                      })(marker,contentString,infoWindow));

// 말풍선 지우기
                     google.maps.event.addListener(marker, 'mouseout', (function(infoWindow) {
                       return function()  {
                        infoWindow.close();
                        };
                     })(infoWindow));

 // listbox로 말풍선 띄우기
                     google.maps.event.addDomListener(markerObj, 'mouseover', (function(marker, contentString, infoWindow) {
                       return function() {
                         infoWindow.setContent(contentString);
                         infoWindow.open(map,marker);
                       }; // function end
                     })(marker,contentString,infoWindow));

 // listbox로 말풍선 띄운 것 지우기
                      google.maps.event.addDomListener(markerObj, 'mouseout', (function(infoWindow) {
                        return function() {
                          infoWindow.close();
                        }; // function end
                      })(infoWindow));
 
  //listbox 색칠
                     google.maps.event.addListener(marker, 'mouseover', (function(str_id) {
                      return function() {
                         var result_id = "#" + "a" + str_id;
                       //console.log(result_id);

                       $(document).ready(function() {
                         $(result_id).css("background-color","#cbefde");
                       
                        $(".roomList").animate({scrollTop: $(result_id).offset().top-300 }, 2000);
                       });

                      };

                     })(str_id));

// listbox 색 입히기
                    google.maps.event.addListener(marker, 'mouseover', (function(str_id) {
                     return function() { 
                        var result_id = "#" + "a" + str_id;
                      //console.log(result_id); 

                      $(document).ready(function() {
                        $(result_id).css("background-color","#a4e2c5");
                        
                      });
 
                     };

                    })(str_id));

// listbox 색 지우기
                     google.maps.event.addListener(marker, 'mouseout', (function(str_id) {
                      return function() {
                         var result_id = "#" + "a" + str_id;
                       //console.log(result_id);

                       $(document).ready(function() {
                        $(result_id).css("background-color","#fff");
                        });

                      };

                     })(str_id));
                    marker.setMap(map);
                }//거리 범위 지정
                }//가격 범위 지정
                }//성별 종류 끝  
                }//하숙 종류 끝
                }//polygon true 끝  
                       
                
            } else if ('<%= @section %>' =="연세대남문"){
                map.setCenter({lat: 37.561214, lng: 126.930489}, true);
                map.setZoom(17);
                
                if(google.maps.geometry.poly.containsLocation(latlng, yonsei_c) == true){
                    //해당 polygon에 마커가 있는가 조건
              
                if("<%= @hasuk_kind %>" == data[i].hasuk_kind || "<%= @hasuk_kind %>" == "" ) {
                  //하숙 종류별 검색 조건, 아무 조건 안 누르면 다 뜨게
                
                if("<%= @gender %>" == data[i].gender || "<%= @gender %>" == "" ) {
                  //성별 종류 검색 조건, 아무 조건 안 누르면 다 뜨게
                  
                if( <%= @price_from %> <= data[i].price_from && <%= @price_to %>+ 10 > data[i].price_to ) {  
                  //가격 조건 - 최저가보다 크고, 최고가+9만원까지 표시
                
                <% if  @distance.nil? %>
                  <% @distance = 0 %>
                <% end %>
                if (<%= @distance %> >= data[i].distance_time1 || <%= @distance %> == 0 ) { 
                  var marker = new google.maps.Marker({
                    position: latlng,
                    map: map
                });
                marker.setValues({type: "point", id: i});
                
                var data_id = data[i].id;
                var str_id = data_id.toString();
                var hash_id = "a" +str_id;
                
                markerObj = document.getElementById(hash_id);      
                    
            //event 구간
//말풍선 출력 
                    google.maps.event.addListener(marker,'mouseover', (function(marker,contentString,infoWindow){ 
                          return function() {
                            infoWindow.setContent(contentString);
                            infoWindow.open(map,marker);

                           }; // function end
                      })(marker,contentString,infoWindow));

// 말풍선 지우기
                     google.maps.event.addListener(marker, 'mouseout', (function(infoWindow) {
                       return function()  {
                        infoWindow.close();
                        };
                     })(infoWindow));

 // listbox로 말풍선 띄우기
                     google.maps.event.addDomListener(markerObj, 'mouseover', (function(marker, contentString, infoWindow) {
                       return function() {
                         infoWindow.setContent(contentString);
                         infoWindow.open(map,marker);
                       }; // function end
                     })(marker,contentString,infoWindow));

 // listbox로 말풍선 띄운 것 지우기
                      google.maps.event.addDomListener(markerObj, 'mouseout', (function(infoWindow) {
                        return function() {
                          infoWindow.close();
                        }; // function end
                      })(infoWindow));
 
  //listbox 색칠
                     google.maps.event.addListener(marker, 'mouseover', (function(str_id) {
                      return function() {
                         var result_id = "#" + "a" + str_id;
                       //console.log(result_id);

                       $(document).ready(function() {
                         $(result_id).css("background-color","#cbefde");
                       
                        $(".roomList").animate({scrollTop: $(result_id).offset().top-300 }, 2000);
                       });

                      };

                     })(str_id));

// listbox 색 입히기
                    google.maps.event.addListener(marker, 'mouseover', (function(str_id) {
                     return function() { 
                        var result_id = "#" + "a" + str_id;
                      //console.log(result_id); 

                      $(document).ready(function() {
                        $(result_id).css("background-color","#a4e2c5");
                        
                      });
 
                     };

                    })(str_id));

// listbox 색 지우기
                     google.maps.event.addListener(marker, 'mouseout', (function(str_id) {
                      return function() {
                         var result_id = "#" + "a" + str_id;
                       //console.log(result_id);

                       $(document).ready(function() {
                        $(result_id).css("background-color","#fff");
                        });

                      };

                     })(str_id));
                    marker.setMap(map);
                }//거리 범위 지정
                }//가격 범위 지정
                }//성별 종류 끝  
                }//하숙 종류 끝
                }//polygon true 끝 
                
            } else if ('<%= @section %>'=="연세대동문"){
               
            } else if ('<%= @section %>' =="연세대명물" || '<%= @section %>' =="이화여대명물"){
            
              
            }  else if ('<%= @section %>' =="이화여대정문"){
            
              
            } else if ('<%= @section %>' =="이화여대~"){
            
              
            } else if ('<%= @section %>' =="이화여대~"){
            
              
            } 
               else if( "<%= @section %>" == "") {
                 //구역 검색 안 하는 경우
                   if ("<%= @univ %>" == "서강" ) {
                     map.setCenter({lat: 37.548717, lng: 126.939051}, true);
                     map.setZoom(17);
                    
                    if(google.maps.geometry.poly.containsLocation(latlng, sogang_a) == true){
                    //해당 polygon에 마커가 있는가 조건(서강대)
              
              if("<%= @hasuk_kind %>" == data[i].hasuk_kind || "<%= @hasuk_kind %>" == "" ) {
                //하숙 종류별 검색 조건, 아무 조건 안 누르면 다 뜨게
              
              if("<%= @gender %>" == data[i].gender || "<%= @gender %>" == "" ) {
                //성별 종류 검색 조건, 아무 조건 안 누르면 다 뜨게
                
              if( <%= @price_from %> <= data[i].price_from && <%= @price_to %>+ 10 > data[i].price_to ) {  
                //가격 조건 - 최저가보다 크고, 최고가+9만원까지 표시
              
              <% if  @distance.nil? %>
                <% @distance = 0 %>
              <% end %>
              if (<%= @distance %> >= data[i].distance_time1 || <%= @distance %> == 0 ) {  
                var marker = new google.maps.Marker({
                 position: latlng,
                 map: map
                });
                
              marker.setValues({type: "point", id: i});
              var data_id = data[i].id;
              var str_id = data_id.toString();
  
               var hash_id = "a" +str_id;
               markerObj = document.getElementById(hash_id);      
                    //event 구간
//말풍선 출력 
                    google.maps.event.addListener(marker,'mouseover', (function(marker,contentString,infoWindow){ 
                          return function() {
                            infoWindow.setContent(contentString);
                            infoWindow.open(map,marker);

                           }; // function end
                      })(marker,contentString,infoWindow));

//말풍선 지우기
                     google.maps.event.addListener(marker, 'mouseout', (function(infoWindow) {
                       return function()  {
                        infoWindow.close();
                        };
                     })(infoWindow));

 // listbox로 말풍선 띄우기
                     google.maps.event.addDomListener(markerObj, 'mouseover', (function(marker, contentString, infoWindow) {
                       return function() {
                         infoWindow.setContent(contentString);
                         infoWindow.open(map,marker);
                       }; // function end
                     })(marker,contentString,infoWindow));

 //listbox로 말풍선 띄운 것 지우기
                      google.maps.event.addDomListener(markerObj, 'mouseout', (function(infoWindow) {
                        return function() {
                          infoWindow.close();
                        }; // function end
                      })(infoWindow));
 
  //listbox 색칠
                     google.maps.event.addListener(marker, 'mouseover', (function(str_id) {
                      return function() {
                         var result_id = "#" + "a" + str_id;
                       //console.log(result_id);

                       $(document).ready(function() {
                         $(result_id).css("background-color","#cbefde");
                       
                        $(".roomList").animate({scrollTop: $(result_id).offset().top-300 }, 2000);
                       });

                      };

                     })(str_id));

// listbox 색 입히기
                    google.maps.event.addListener(marker, 'mouseover', (function(str_id) {
                     return function() { 
                        var result_id = "#" + "a" + str_id;
                      //console.log(result_id); 

                      $(document).ready(function() {
                        $(result_id).css("background-color","#a4e2c5");
                        
                      });
 
                     };

                    })(str_id));
                    
// listbox 색 지우기
                     google.maps.event.addListener(marker, 'mouseout', (function(str_id) {
                      return function() {
                         var result_id = "#" + "a" + str_id;
                       //console.log(result_id);

                       $(document).ready(function() {
                        $(result_id).css("background-color","#fff");
                        });

                      };

                     })(str_id));
                    marker.setMap(map);
              
                
                  }//거리 범위 지정
                  }//가격 범위 지정
                  }//성별 종류 끝  
                  }//하숙 종류 끝
                  }//polygon true 끝
                     
                   } else if ("<%= @univ %>" == "연세") {
                     map.setCenter({lat: 37.561257, lng: 126.936974}, true);
                     map.setZoom(15);
                     
                     if(google.maps.geometry.poly.containsLocation(latlng, yonsei_a) == true ||
                        google.maps.geometry.poly.containsLocation(latlng, yonsei_c) == true ||
                        google.maps.geometry.poly.containsLocation(latlng, yonsei_e) == true ){
                    //해당 polygon에 마커가 있는가 조건(연대 모두)
              
              if("<%= @hasuk_kind %>" == data[i].hasuk_kind || "<%= @hasuk_kind %>" == "" ) {
                //하숙 종류별 검색 조건, 아무 조건 안 누르면 다 뜨게
              
              if("<%= @gender %>" == data[i].gender || "<%= @gender %>" == "" ) {
                //성별 종류 검색 조건, 아무 조건 안 누르면 다 뜨게
                
              if( <%= @price_from %> <= data[i].price_from && <%= @price_to %>+ 10 > data[i].price_to ) {  
                //가격 조건 - 최저가보다 크고, 최고가+9만원까지 표시
              
              <% if  @distance.nil? %>
                <% @distance = 0 %>
              <% end %>
              if (<%= @distance %> >= data[i].distance_time1 || <%= @distance %> == 0 ) {  
                var marker = new google.maps.Marker({
                 position: latlng,
                 map: map
                });
                
              marker.setValues({type: "point", id: i});
              var data_id = data[i].id;
              var str_id = data_id.toString();
  
               var hash_id = "a" +str_id;
               markerObj = document.getElementById(hash_id);      
                    //event 구간
//말풍선 출력 
                    google.maps.event.addListener(marker,'mouseover', (function(marker,contentString,infoWindow){ 
                          return function() {
                            infoWindow.setContent(contentString);
                            infoWindow.open(map,marker);

                           }; // function end
                      })(marker,contentString,infoWindow));

//말풍선 지우기
                     google.maps.event.addListener(marker, 'mouseout', (function(infoWindow) {
                       return function()  {
                        infoWindow.close();
                        };
                     })(infoWindow));

 // listbox로 말풍선 띄우기
                     google.maps.event.addDomListener(markerObj, 'mouseover', (function(marker, contentString, infoWindow) {
                       return function() {
                         infoWindow.setContent(contentString);
                         infoWindow.open(map,marker);
                       }; // function end
                     })(marker,contentString,infoWindow));

 //listbox로 말풍선 띄운 것 지우기
                      google.maps.event.addDomListener(markerObj, 'mouseout', (function(infoWindow) {
                        return function() {
                          infoWindow.close();
                        }; // function end
                      })(infoWindow));
 
 //listbox 색칠
                     google.maps.event.addListener(marker, 'mouseover', (function(str_id) {
                      return function() {
                         var result_id = "#" + "a" + str_id;
                       //console.log(result_id);

                       $(document).ready(function() {
                         $(result_id).css("background-color","#cbefde");
                       
                        $(".roomList").animate({scrollTop: $(result_id).offset().top-300 }, 2000);
                       });

                      };

                     })(str_id));

// listbox 색 입히기
                    google.maps.event.addListener(marker, 'mouseover', (function(str_id) {
                     return function() { 
                        var result_id = "#" + "a" + str_id;
                      //console.log(result_id); 

                      $(document).ready(function() {
                        $(result_id).css("background-color","#a4e2c5");
                        
                      });
 
                     };

                    })(str_id));

// listbox 색 지우기
                     google.maps.event.addListener(marker, 'mouseout', (function(str_id) {
                      return function() {
                         var result_id = "#" + "a" + str_id;
                       //console.log(result_id);

                       $(document).ready(function() {
                        $(result_id).css("background-color","#fff");
                        });

                      };

                     })(str_id));
                    marker.setMap(map);
              
                
                  }//거리 범위 지정
                  }//가격 범위 지정
                  }//성별 종류 끝  
                  }//하숙 종류 끝
                  }//polygon true 끝
                  
                   } else if ("<%= @univ %>" == "이화") {
                     map.setCenter({lat: 37.561803, lng:  126.946909}, true);
                     map.setZoom(15);
                     
                     if(google.maps.geometry.poly.containsLocation(latlng, sogang_a) == true){
                    //해당 polygon에 마커가 있는가 조건
              
              if("<%= @hasuk_kind %>" == data[i].hasuk_kind || "<%= @hasuk_kind %>" == "" ) {
                //하숙 종류별 검색 조건, 아무 조건 안 누르면 다 뜨게
              
              if("<%= @gender %>" == data[i].gender || "<%= @gender %>" == "" ) {
                //성별 종류 검색 조건, 아무 조건 안 누르면 다 뜨게
                
              if( <%= @price_from %> <= data[i].price_from && <%= @price_to %>+ 10 > data[i].price_to ) {  
                //가격 조건 - 최저가보다 크고, 최고가+9만원까지 표시
              
              <% if  @distance.nil? %>
                <% @distance = 0 %>
              <% end %>
              if (<%= @distance %> >= data[i].distance_time1 || <%= @distance %> == 0 ) {  
                var marker = new google.maps.Marker({
                 position: latlng,
                 map: map
                });
                
              marker.setValues({type: "point", id: i});
              var data_id = data[i].id;
              var str_id = data_id.toString();
  
               var hash_id = "a" +str_id;
               markerObj = document.getElementById(hash_id);      
                    //event 구간
//말풍선 출력 
                    google.maps.event.addListener(marker,'mouseover', (function(marker,contentString,infoWindow){ 
                          return function() {
                            infoWindow.setContent(contentString);
                            infoWindow.open(map,marker);

                           }; // function end
                      })(marker,contentString,infoWindow));

//말풍선 지우기
                     google.maps.event.addListener(marker, 'mouseout', (function(infoWindow) {
                       return function()  {
                        infoWindow.close();
                        };
                     })(infoWindow));

 // listbox로 말풍선 띄우기
                     google.maps.event.addDomListener(markerObj, 'mouseover', (function(marker, contentString, infoWindow) {
                       return function() {
                         infoWindow.setContent(contentString);
                         infoWindow.open(map,marker);
                       }; // function end
                     })(marker,contentString,infoWindow));

 //listbox로 말풍선 띄운 것 지우기
                      google.maps.event.addDomListener(markerObj, 'mouseout', (function(infoWindow) {
                        return function() {
                          infoWindow.close();
                        }; // function end
                      })(infoWindow));
 
 //listbox 색칠
                     google.maps.event.addListener(marker, 'mouseover', (function(str_id) {
                      return function() {
                         var result_id = "#" + "a" + str_id;
                       //console.log(result_id);

                       $(document).ready(function() {
                         $(result_id).css("background-color","#cbefde");
                       
                        $(".roomList").animate({scrollTop: $(result_id).offset().top-300 }, 2000);
                       });

                      };

                     })(str_id));

// listbox 색 입히기
                    google.maps.event.addListener(marker, 'mouseover', (function(str_id) {
                     return function() { 
                        var result_id = "#" + "a" + str_id;
                      //console.log(result_id); 

                      $(document).ready(function() {
                        $(result_id).css("background-color","#a4e2c5");
                        
                      });
 
                     };

                    })(str_id));

// listbox 색 지우기
                     google.maps.event.addListener(marker, 'mouseout', (function(str_id) {
                      return function() {
                         var result_id = "#" + "a" + str_id;
                       //console.log(result_id);

                       $(document).ready(function() {
                        $(result_id).css("background-color","#fff");
                        });

                      };

                     })(str_id));
                    marker.setMap(map);
              
                
                     }//거리 범위 지정
                     }//가격 범위 지정
                     }//성별 종류 끝  
                     }//하숙 종류 끝
                     }//polygon true 끝
                     
                   }//구역 없는 이대 검색
                   
              
                  } //구역 검색 없는 else if 걸리는 부분


                }//indexOf 걸리는 괄호
             } //반복문
         }); //학교별 마커 띄우기 끝

      } //구글맵 기본 설정 끝
      google.maps.event.addDomListener(window, 'load', initialize);
      
      
    </script>
 
   <style type="text/css">
 
    /*사이즈별 모달 조정 */
    @media only screen and (min-width:960px){
        /* styles for browsers larger than 960px; */
     
    }
    @media only screen and (min-width:1440px){
        /* styles for browsers larger than 1440px; */
      
    }
    @media only screen and (min-width:2000px){
        /* for sumo sized (mac) screens */
    }
    
     @media (max-width: 400px) {
      .modal-content#modal-size1{
       width:300px;
       left:0%;
       padding:0px;
      }
      #signbutton {
        padding-left:0px;
      }
      /*아이폰4 크기 */
      .modal-content#modal-size2{

     }

     #modal-price {
         height:30px;
     }
     #small-device{
       padding:0.4em;
    font-size:0.7em;
     }
     .small-device{
       padding:0.4em;
        font-size:0.7em;
     }
     #select-title{
         
     }
     #typebox{
         padding:0px;
         margin:0px;
         padding-left:5px;
     }
     
     
     .map_container {
      padding-left:0px; 
      padding-right:0px;
      height: 100%;
      margin-top: 0.1em;
    }
     .listbox {
        width:100%;
    }
    .roomList{
       height:550px;
       overflow:auto;
     }
     
     #price-size {
        padding:0px;
        margin:0px;
        font-size:1.5em;
        margin-left:5px;
     }
     #price-size h4 {
        margin-top:2px;
     }
     #deposit-size {
       margin-left:4px;
         width:28%;
     }
     #deposit-size p{
         font-size:0.7em;
          margin-left:5px;
     }
     #gender-size {
         margin:0px;
         padding:0px; 
         width:20%;
         margin-top:3px;
     }
     #icon-size {
       width:22.5%;
        padding-left:5px;
        padding-top:8px;
        margin:0px; 
        padding:0px;
        margin-left: 4px;
        margin-top: 8.5px;

     }
     #kind-size{
       width:20%;
       margin:0px;
       padding:0px;
       margin-left:5px;
     }
     #kind-size span{
        font-size:12px; 
     }
     #meal-size{
       margin:0px; 
       padding:0px; 
       width: 30%;
     }
     #meal-size span {
        font-size:12px;
     }
     #room-size{
       margin:0px;
       padding:0px;
       width: 17%;
     }
     #room-size span{
        font-size:12px;
     }
     #distance-size{
        margin:0px;
        padding:0px;
        margin-left:5px;
     }
     #distance-size span{
        font-size:12px;
     }
     .image-size {
        height:9.75em; 
        min-height:140px;
     }
    
    }
     @media (max-width: 480px) {
      .modal-content#modal-size1{
       width:300px;
       left:0%;
       padding:0px;
      }
      #signbutton {
        padding-left:0px;
      }
      /*조금 큰 스마트폰 크기 */
     
    #small-device{
       padding:0.4em;
       font-size:0.65em;
     }
     .small-device{
       padding:0.4em;
      font-size:0.65em;
     }
     #modal-price {
         height:30px;
     }
     #small-device{
       padding:0.6em;
     }
     .small-device{
       padding:0.6em;
     }
     
     
     #select-title{
         
     }
     #typebox{
         padding:0px;
         margin:0px;
         padding-left:5px;
     }
     
     
     
     .map_container {
      padding-left:0px; 
      padding-right:0px;
      height: 100%;
      margin-top: 0.1em;
    }
     .listbox {
        width:100%;
    }
    .roomList{
       height:550px;
       overflow:auto;
     }
     
     
     #price-size {
        font-size:1.5em;
        margin-left:5px;
     }
     #price-size h4 {
        margin-top:2px;
     }
     #deposit-size {
        margin:0px;
        padding:0px;
       margin-left:4px;
        width:28%;
     }
     #deposit-size p{
         font-size:0.7em;
          margin-left:5px;
     }
     #gender-size {
         margin:0px;
         padding:0px; 
         width:20%;
         margin-top:3px;
     }
     #icon-size {
       width:22.5%;
        padding-left:5px;
        padding-top:8px;
        margin:0px; 
        padding:0px;
        margin-left: 4px;
        margin-top: 8.5px;

     }
     #icon-size img {
        width:20px; 
        height:20px; 
        float:left; 
     }
     #kind-size{
       width:20%;
       margin:0px;
       padding:0px;
       margin-left:5px;
     }
     #kind-size span{
        font-size:12px; 
     }
     #meal-size{
       margin:0px; 
       padding:0px; 
       width: 30%;
     }
     #meal-size span {
        font-size:12px;
     }
     #room-size{
       margin:0px;
       padding:0px;
       width: 17%;
     }
     #room-size span{
        font-size:12px;
     }
     #distance-size{
        margin:0px;
        padding:0px;
        margin-left:5px;
     }
     #distance-size span{
        font-size:12px;
     }
     .image-size {
        height:9.75em; 
        min-height:140px;
     }
    }
    @media (max-width: 768px) {
     .modal-content#modal-size1{

     }
     
     #small-device {
       padding:0.63em;
       font-size:0.7em;
     }
     .small-device{
       padding:0.63em;
       font-size:0.7em;
     }
     #select-title{
         
     }
     #typebox{
         padding:0px;
         margin:0px;
         padding-left:5px;
     }
     
     /*패블릿 스마트폰 */
     
     #select-title{
         
     }
     #typebox{
         padding:0px;
         margin:0px;
         padding-left:5px;
     }
     
     
     
     .map_container {
      padding-left:0px; 
      padding-right:0px;
      height: 100%;
      margin-top: 0.1em;
    }
     .listbox {
        width:100%;
    }
    .roomList{
       height:871px;
       overflow:auto;
     }
     
     
     #price-size {
        font-size:1.5em;
        margin-left:5px;
     }
     #price-size h4 {
        margin-top:2px;
     }
     #deposit-size {
        margin:0px;
        padding:0px;
       margin-left:4px;
        width:28%;
     }
     #deposit-size p{
         font-size:0.7em;
          margin-left:5px;
     }
     #gender-size {
         margin:0px;
         padding:0px; 
         width:20%;
         margin-top:3px;
     }
     #icon-size {
       width:22.5%;
        padding-left:5px;
        padding-top:8px;
        margin:0px; 
        padding:0px;
        margin-left: 4px;
        margin-top: 8.5px;

     }
     #icon-size img {
        width:20px; 
        height:20px; 
        float:left; 
     }
     #kind-size{
       width:20%;
       margin:0px;
       padding:0px;
       margin-left:5px;
     }
     #kind-size span{
        font-size:12px; 
     }
     #meal-size{
       margin:0px; 
       padding:0px; 
       width: 30%;
     }
     #meal-size span {
        font-size:12px;
     }
     #room-size{
       margin:0px;
       padding:0px;
       width: 17%;
     }
     #room-size span{
        font-size:12px;
     }
     #distance-size{
        margin:0px;
        padding:0px;
        margin-left:5px;
     }
     #distance-size span{
        font-size:12px;
     }
     .image-size {
        height:9.75em; 
        min-height:140px;
     }
    }
    @media only screen and (device-width:768px){
       /* default iPad screens */
       .modal-content#modal-size1{

       }
       /*아이패드 */
      .modal-content#modal-size2{
        width:450px;
        left:13%;
     }
     #modal-price {
         height:60px;
     }
      #small-device{
       padding:0.5em;
     }
     .small-device{
       padding:0.5em;
     }
     #select-title{
         
     }
     #typebox{
         padding:0px;
         margin:0px;
         padding-left:5px;
     }
     
     
     
     html, body { 
      height: 97.5%; 
      margin: 0; 
      padding: 0; 
    }
    .map_container {
      padding-left:0px; 
      padding-right:0px;
      height: 46.5%;
      margin-top: 0.1em;
    }
    .listbox {
        width:100%;
    }
    
     .roomList{
       height:468px;
       overflow:auto;
     }
     #price-size {
         margin:0px;
         padding:0px;
        width:20%;
        margin-left:2px;
     }
     #price-size h4{
      
       font-size:1em;
       margin-top:6px;
     }
     
     #deposit-size {
       width:27%;
       margin-left:5px;
     }
     #deposit-size p{
       font-size:0.5em;
     }
     #gender-size {
         margin:0px;
         padding:0px; 
         width:20%;
     }
     #gender-size p {
         margin-left:2px;
     }
     #icon-size {
        width:30%;
        padding-left:3px;
        padding-top:6px;
        padding-right:0px;
       
     }
     #icon-size img {
        width:20px; 
        height:20px; 
        float:left; 
     }
     #kind-size{
       width:23%;
       margin:0px;
       padding:0px;
       margin-left:2px;
     }
     #kind-size span{
        font-size:0.6em; 
     }
     #meal-size{
        font-size:0.6em;
        margin-top:7px;
        padding:0px;
     }
     #room-size{
       margin:0px;
       padding:0px;
       width:17%;
     }
     #room-size span{
        font-size:0.6em;
     }
     #distance-size{
       margin:0px;
        padding:0px;
        margin-left:2px;
     }
     #distance-size span{
         font-size:0.6em;
     }
     .image-size {
        height:6.5em; 
        min-height:100px;
     }
    }

    @media (min-width: 768px) {
     .modal-content#modal-size2{
        width:450px;
        left:13%;
     }
     #modal-price {
         height:30px;
     }
     #small-device{
       padding:0.8em;
       font-size:0.9em;
     }
     .small-device{
       padding:0.8em;
       font-size:0.9em;
     }
     #select-title{
        margin-right:5px;
     }
     #typebox{
         padding:0px;
         margin:0px;
         padding-left:5px;
     }
     
     
     
      html, body { 
      height: 97.5%; 
      margin: 0; 
      padding: 0; 
    }
    .map_container {
      padding-left:0px; 
      padding-right:0px;
      height: 46.5%;
      margin-top: 0.1em;
    }
    .listbox {
        width:100%;
    }
     
     .roomList{
       height:468px;
       overflow:auto;
     }
     #price-size {
         margin:0px;
         padding:0px;
        width:20%;
        margin-left:2px;
     }
     #price-size h4{
      
       font-size:0.7em;
       margin-top:6px;
     }
     
     #deposit-size {
       width:29%;
       margin-left:3px;
     }
     #deposit-size p{
       font-size:0.5em;
     }
     #gender-size {
         margin:0px;
         padding:0px; 
         width:20%;
         margin-top:2px;
     }
     #gender-size p {
         margin-left:2px;
         
     }
     #icon-size {
        width:28.3%;
        padding-left:0px;
        margin-left:1px;
        padding-right:0px;
        padding-top:0px;
       
     }
     #icon-size img {
        width:20px; 
        height:20px; 
        float:left; 
     }
     #kind-size{
       width:23%;
       margin:0px;
       padding:0px;
       margin-left:2px;
     }
     #kind-size span{
        font-size:0.6em; 
     }
     #meal-size{
        font-size:0.6em;
        margin-top:7px;
        width:38%;
     }
     #room-size{
       margin:0px;
       padding:0px;
       width:17%;
     }
     #room-size span{
        font-size:0.6em;
     }
     #distance-size{
       margin:0px;
        padding:0px;
        margin-left:2px;
     }
     #distance-size span{
         font-size:0.6em;
     }
     .image-size {
        height:6.5em; 
        min-height:100px;
     }
    }
     @media (min-width: 832px) {
     
     #small-device{
       padding:0.8em;
       font-size:0.9em;
     }
     .small-device{
       padding:0.8em;
       font-size:0.9em;
     }
     
     #select-title{
         
     }
     #typebox{
         padding:0px;
         margin:0px;
         padding-left:5px;
     }
     
     /*832px보다 크고 960px 이하 */
     #price-size {
       
     }
     #deposit-size {
       
     }
     #gender-size {
     
     }
     #icon-size {
       
     }
     #kind-size{
       
     }
     #meal-size{
       
     }
     #room-size{
       
     }
     #distance-size{
       
     }
    }
   
    @media (min-width: 960px) {
      .modal-content#modal-size1{
       width:400px;
       left:0%;
       padding:0px;
     }
      .modal-content#modal-size2{
        width:450px;
        left:50%;
     }
    #modal-price {
         height:30px;
     }
    #select-title{
         margin-right:5px;
     }
    #typebox{
         padding:0px;
         margin:0px;
         padding-left:5px;
    }
    #small-device{
       padding:0.8em;
       font-size:0.9em;
     }
     .small-device{
       padding:0.8em;
       font-size:0.9em;
     } 
   
   
   
    .map_container {
      padding-left:0px; 
      padding-right:0px;
      height: 100%;
      margin-top: 0.1em;
    }
     .listbox {
        width:97%;
    }
    .roomList{
       height:666px;
       overflow:auto;
     }
     #price-size {
         margin:0px;
         padding:0px;
        width:17.42%;
        margin-left:2px;
     }
     #price-size h4{
      
       font-size:0.95em;
       margin-top:8px;
     }
     
     #deposit-size {
       width:27.6%;
       margin-left:9px;
     }
     #deposit-size p{
       font-size:0.5em;
     }
     #gender-size {
         margin:0px;
         padding:0px; 
         width:20%;
     }
     #gender-size p {
         margin-left:2px;
     }
     #icon-size {
        width:30%;
        padding-top:6px;
        padding-right:0px;
       
     }
     #icon-size img {
        width:18px; 
        height:18px; 
        float:left; 
     }
     #kind-size{
       width:23%;
       margin:0px;
       padding:0px;
       margin-left:2px;
     }
     #kind-size span{
        font-size:0.6em; 
     }
     #meal-size{
         padding:0px;
        font-size:0.6em;
        margin-top:7px; 
     }
     #room-size{
       margin:0px;
       padding:0px;
       width:17%;
     }
     #room-size span{
        font-size:0.6em;
     }
     #distance-size{
       margin:0px;
        padding:0px;
        margin-left:2px;
     }
     #distance-size span{
         font-size:0.6em;
     }
     .image-size {
        height:9.75em; 
        min-height:140px;
     }
    } 
    @media (min-width: 1050px){
     .modal-content#modal-size2{
        width:500px;
        left:55%;
     }
     #modal-price {
         height:60px;
     }
     #select-title{
         
     }
     #typebox{
         padding:0px;
         margin:0px;
         padding-left:5px;
     }
     
     
     
     
    .map_container {
      padding-left:0px; 
      padding-right:0px;
      height: 100%;
      margin-top: 0.1em;
    }
    
     .listbox {
        width:97%;
    }
    .roomList{
       height:555px;
       overflow:auto;
     }
     #small-device{
       padding:0.8em;
       font-size:0.9em;
     }
     .small-device{
       padding:0.7em;
     }
     #price-size {
         margin:0px;
         padding:0px;
        font-size:1.5em;
        margin-left:5px;
     }
     #price-size h4{
      margin-top:2px;
     }
     #deposit-size {
        width:27%;
        margin-left:24px;
     }
     #deposit-size p{
         font-size:0.7em;
        
     }
     #gender-size {
         margin:0px;
         padding:0px; 
         width:20%;
         margin-top:3px;
     }
     #icon-size {
        width:24%;
        padding-left:5px;
        padding-top:8px;
        margin:0px; 
        padding:0px;
        margin-left: 5px;
        margin-top: 8.5px;
     }
     #icon-size img {
        width:20px; 
        height:20px; 
        float:left; 
     }
     #kind-size{
       width:20%;
       margin:0px;
       padding:0px;
       margin-left:5px;
     }
     #kind-size span{
        font-size:12px; 
     }
     #meal-size{
       margin-top:6px; 
       padding:0px; 
       width: 30%;
     }
     #meal-size span {
        font-size:12px;
     }
     #room-size{
       margin:0px;
       padding:0px;
       width: 17%;
     }
     #room-size span{
        font-size:12px;
     }
     #distance-size{
        margin:0px;
        padding:0px;
        margin-left:5px;
     }
     #distance-size span{
        font-size:12px;
     }
     .image-size {
        height:9.75em; 
        min-height:140px;
     }
     /*노트북 크기 */
    }
    @media (min-width: 1135px){
     
     /*노트북 크기 */
    }
    
   
   
    /*사이즈별 모달 조정 */
    
    
    
    
    
    #search.btn-info{
      color:#3498db;
      background-color:#fff;
      border:1px solid #3498db;
    }
    #search.btn-info:hover {
      color:#fff;
      background-color:#31b0d5;
      border:1px solid #31b0d5;
    }
    #out.btn-danger {
      color:#e74c3c;
      background-color:#fff;
      border:1px solid #e74c3c;
    }
    #out.btn-danger:hover {
      color:#fff;
      background-color:#e74c3c;
      border:1px solid #e74c3c;
    }
    .reverse.btn-success {
      color:#2ECC71;
      background-color:#fff;
      border:1px solid #2ECC71;
    }
    .reverse.btn-success:hover {
      color:#fff;
      background-color:#2ECC71;
      border:1px solid #2ECC71;
    }
    .reverse.btn-success.active {
      color:#fff;
      background-color:#2ECC71;
      border:1px solid #2ECC71;
    }
    
   #infoWindow {
        width:240px;
    }
    a:hover{
      background-color:#dddddd;
      color:blue;
    }
    
    .image { 
     position: relative; 

    }
    
    /*하숙방 이름 css */
    #nameOfhasuk { 
       position: absolute; 
       top: 10px;
       left: 10px; 
    }
    #nameOfhasuk p {
       font-size: 0.6em;
       color:#ECF0F1;
       padding: 5%;
       border-radius:5px;
       background: rgb(0, 0, 0);
       background: rgba(0, 0, 0, 0.7);
       margin-bottom: 0px;
    }
    
    body.modal-open {
        overflow: hidden;
        position:fixed;
        width: 100%;
    }
    #myModal .modal-dialog  {
      width:30%;
     
    }
    #myModal2 .modal-dialog {
     
      left:30%;
      outline: none;
      width:35%;
    }
    
    .modal-backdrop.in {
      opacity:0.1;
    }
    
    .ui-slider-horizontal .ui-slider-handle{
      background:#E67E22;
      border-color:#E67E22;
    }
    .ui-slider-range {
      background:#F1C40F;
   
    }
    .ui-slider-segment {
      background-color: #ECF0F1;
      margin-top:5px;
    }
    .ui-slider {
      border-color: #F5F5F5;
    }
    
    /*지도 레이아웃 설정 */
    html, body { 
      height: 95.5%; 
      margin: 0; 
      padding: 0; 
    }
    #map-canvas{
        height:100%;
        width:100%;
    }
    .mainbox {
      height:100%;
      margin: 0;
      padding: 0;
    }
    .folderbox {
      padding:0px;
    }
    .roomList {
      padding:0px; 

      overflow-y:auto;
    }
    #iconlist {
      width:20px; 
      height:20px;
      margin:0px; 
      margin-left:5px;
      margin-top:8px;
      float:left;
    }
    .thumbnail {
      line-height:1.2;
      margin:5px; 
      border-radius:0px;
    }
    </style> 
</head>
<body>
 <%= render "map/search_modal" %>

  <!--지도부분 시작-->
  
  <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12 map_container hidden-xs" style="padding-left:0px; padding-right:0px;">         
    <!-- head에서 설정한 id로 map이 들어온다. -->
    <div id="map-canvas">
    </div>

  </div><!--지도부분 끝-->
  
  <!--박스 늘리기 for ipad 버튼-->
  <div class="col-sm-12 hidden-xs hidden-md hidden-lg ipadButton" style="padding-right: 0px; padding-left: 0px; width:100%; height:30px; background-color:#95A5A6;">
    <button id="ipadfold" style="border-color:#fff; background-color:#95A5A6; color:#fff; width:100%; height:100%; padding:0px;" type="button" class="btn btn-default" aria-label="Center">
      <span id="menu-icon" class="glyphicon glyphicon-menu-up" aria-hidden="true"></span><br/>
    </button>
  </div>
  
  <!--오른쪽 박스 시작-->
    
 <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12 mainbox" style="padding-left: 0px; padding-right: 0px;"> 

   
    <!--방 리스트 박스-->
  <div class="col-lg-1 col-md-1 col-sm-1 col-xs-1 hidden-xs hidden-sm foldButton" style="padding-right: 0px; padding-left: 0px; width:3%; height:100%">
    <div style="padding-right: 0px;padding-left: 0px; height:100%">
      <div class="folderbox" style="height:100%">
        <button id="fold" style="border-color:#fff; background-color:#95A5A6; color:#fff; width:100%; height:100%; padding-left: 0px;padding-right: 0px;" type="button" class="btn btn-default" aria-label="Center">
          <span id="menu-icon" class="glyphicon glyphicon-menu-left" aria-hidden="true"></span><br/>
        </button>
      </div>
    </div>
  </div>
  
  
    <div class="listbox col-lg-11 col-md-11 col-sm-12 col-xs-12" style="padding-left:0px; padding-right:0px;">
      <div class="panel panel-default">
        <div class="panel-heading col-lg-12 col-md-12 col-xs-12 col-sm-12" style="background-color:#2ecc71; color:#fff; padding:5px; padding-left:10px; font-size:0.8em">검색결과</div>
        <div class="col-lg-12 col-md-12 col-xs-12 col-sm-12 roomList panel-body" style="padding:0px;">
 
  <!--      if (univ1.indexOf("<%#= @univ %>") !== -1 || univ2.indexOf("<%#= @univ %>") !== -1 || univ3.indexOf("<%#= @univ %>") !== -1 ) {    
            //학교까지의 거리를 입력한 부분에서 해당 학교 포함하고 있으면 ok조건
            
            if ("<%#= @section %>" =="서강대남문" ) {
              //구역별 검색 조건, 아무 조건 안 누르면 다 뜨게
                map.setCenter({lat: 37.548717, lng: 126.939051}, true);
                map.setZoom(17);
                //구역별 지도 중심 정하기
      -->
              
      <%# cnt=0 %>
      <% @hasuk.each do |c| %>
        <% if (c.univ_distance1 || c.univ_distance2 || c.univ_distance3 ).include? @univ %>
          <%# cnt= cnt+1 %>
          <%# if cnt == 6 %>
            <%# break %>
          <%# end %>
        <% if @hasuk_kind == c.hasuk_kind || @hasuk_kind.nil? %>
          
        <% if @gender == c.gender || @gender.nil? %>
            
            <% @price_from_i = @price_from.to_i %>
            <% @price_to_i = @price_to.to_i %>
            <!--왠지는 모르겠지만 @price_from이 스트링으로 찍힌다. -->
            
        <% if @price_from_i <= c.price_from && @price_to_i + 10 > c.price_to %>
        
          <% if @distance.nil? %>
            <% @distance_i = 0 %>
          <% else %>
            <% @distance_i = @distance.to_i %>
          <% end %>
          
   
        <% if @distance_i >= c.distance_time1 || @distance_i == 0 %>
        
          <% if c.sogang_gate1 != "교문선택" %>
            <% @sogang_section = c.univ_distance1 + "대" + "남문" %>
            <% else %>
            <% @sogang_section = "없음"%>
          <% end %>

          <!-- @학교_section은 '서강대정문' 추출 or 없으면 '없음' 추출-->  
          <% if c.yonsei_gate1 != "교문선택" %>
            <% @yonsei_section = c.univ_distance1 + "대" + c.yonsei_gate1 %>
            <% else %>
            <% @yonsei_section = "없음"%>
          <% end %>
          
          <% if c.ewha_gate1 != "교문선택" %>
            <% @ewha_section = c.univ_distance1 + "여대" + c.ewha_gate1 %>
            <% else %>
            <% @ewha_section = "없음" %>
          <% end %>
          
          <%# if @section.include? "정문2" %>
          <!-- 명물거리 구역 생각-->
          <%# end %>
          
          <% @all_section = [@sogang_section, @yonsei_section, @ewha_section] %>
          <!--구역 나누기 트릭 -->
          <% if @section.nil? %>
            <% @section = "구역없음" %>
          <% end %>
        <% 0.upto(1) do |i| %>
          <% if @section.include? @all_section[i] %>
              <!--개별 방 박스 1 시작-->
              
                <div class="room col-lg-6 col-md-6 col-sm-4 col-xs-12" id='a<%=c.id %>' style="padding-left: 0px; padding-right:0px;">
                  <a style="color:#7F8C8D" href="/hasuk_houses/<%= c.id %>" target="_blank">
                  <div class="img-responsive thumbnail">
                    
                    <!--이미지 지정-->
                    <div class="image col-lg-12 col-md-12 col-xs-12 col-sm-12" style="margin:0px; padding:0px">
                      <div id="nameOfhasuk">
                        <p><%= c.hasuk_name %></p>
                      </div>
                      <img src="<%= c.room_img1.url %>" alt="이미지 없음" class="image-size" style="width:100%;">
                    </div>
                    
                    <!--정보 표시-->
                    <div class="caption" style="padding-top:5px; padding-left:0px; padding-right:0px; padding-bottom:5px">
                      <div class="row" style="width: 100%; margin-right: 0px; margin-left: 0px;">
                        <div id="price-size" class="col-lg-3 col-md-3 col-sm-3 col-xs-3">
                          <div style="float:left">
                            <% unless c.price_from.nil? %>
                            <h4 style="color:#445d82; margin-bottom:0px;">
                              <%= c.price_from %>~<%= c.price_to %>
                            </h4>
                            <% else %>
                            <h4 style="color:#445d82; margin-bottom:0px;">
                              00~00
                            </h4>
                            <% end %>
                          </div>
                        </div>
                        <div id="deposit-size" class="col-lg-3 col-md-3 col-sm-3 col-xs-3" style="padding:0px;">
                          <div style="float:left">
                            <% if c.small_deposit == nil && c.big_deposit == nil %>
                              <p style="margin-top:8px; margin-bottom:0px;">(DB 없음)</p>
                              
                            <% else %>
                            
                              <% if c.small_deposit == 0 %>
                                
                                <% if c.big_deposit == 0 %>
                                  <p style="margin-top:8px; margin-bottom:0px;">(예치금 없음)</p>
                                <% else %>
                                  <p style="margin-top:8px; margin-bottom:0px;">(보증금 <%= c.big_deposit %>)</p>
                                <% end %>
                              
                              <% else %>
                                 <p style="margin-top:8px; margin-bottom:0px;">(예치금 <%= c.small_deposit %>)</p>
                              <% end %>
                            
                            <% end %>
                              
                          </div>
                        </div>
                        <div id="gender-size" class="col-lg-3 col-md-3 col-sm-3 col-xs-3">
                          
                          <% if c.gender=="여성전용" %>
                            <div class="has-error" style="margin-top:7px; margin-bottom:0px;">
                              <p class="form-control" type="text" style="color:#E74C3C; border:1px solid #E74C3C; margin-top:6px; margin-left:1px; text-align:center; font-size: 8px; padding: 1px; width: 100%; height:20%; margin-bottom:0px;">여성전용</p>
                            </div>
                          <% elsif c.gender =="남녀공용" %>
                            <div class="has-error" style="margin-top:7px; margin-bottom:0px;">
                              <p class="form-control" type="text" style="color:#2ECC71; border:1px solid #2ECC71; margin-top:6px; margin-left:1px; text-align:center; font-size: 8px; padding: 1px; width: 100%; height:20%; margin-bottom:0px;">남녀공용</p>
                            </div>
                          <% elsif c.gender == "남녀층 분리" %>
                            <div class="has-error" style="margin-top:7px; margin-bottom:0px;">
                              <p class="form-control" type="text" style="color:#9B59B6; border:1px solid #9B59B6; margin-top:6px; margin-left:1px; text-align:center; font-size: 8px; padding: 1px; width: 100%; height:20%; margin-bottom:0px;">남녀분리</p>
                            </div>
                          <% elsif c.gender == "남성전용" %>
                            <div class="has-error" style="margin-top:7px; margin-bottom:0px;">
                              <p class="form-control" type="text" style="color:#2980b9; border:1px solid #2980B9; margin-top:6px; margin-left:1px; text-align:center; font-size: 8px; padding: 1px; width: 100%; height:20%; margin-bottom:0px;">남성전용</p>
                            </div>
                          <% else %>
                            <div class="has-error" style="margin-top:7px; margin-bottom:0px;">
                              <p class="form-control" type="text" style="color:#E74C3C; border:1px solid #E74C3C; margin-top:6px; margin-left:1px; text-align:center; font-size: 8px; padding: 1px; width: 100%; height:20%; margin-bottom:0px;">DB 없음</p>
                            </div>
                          <% end %>
                          
                        </div>
                        <div id="icon-size" class="col-lg-3 col-md-3 col-sm-3 col-xs-3">
                          <% if c.internet =="와이파이" || c.internet =="유선 인터넷" %>
                            <img src="/images/icons/wifi.png" style="margin-right:2px;">
                          <% elsif c.internet =="없음" %>  
                            <img src="/images/icons/wifi2.png" style="margin-right:2px;">
                          <% else %>
                            <img src="/images/icons/wifi2.png" style="margin-right:2px;">
                          <% end %>
                          <% if c.personal_option8 =="화장실" %>
                            <img src="/images/icons/toilet.png" style="margin-right:4px;">
                          <% elsif c.personal_option8 == nil %>   
                            <img src="/images/icons/toilet2.png" style="margin-right:4px;">
                          <% else %>
                            <img src="/images/icons/toilet2.png" style="margin-right:4px;">
                          <% end %>
                          <% if c.personal_option6 =="에어컨" %>
                            <img src="/images/icons/air.png">
                          <% elsif c.personal_option6 == nil %>   
                            <img src="/images/icons/air2.png">
                          <% else %>
                            <img src="/images/icons/air2.png">
                          <% end %>
                        </div>
                      </div><!--정보 첫번째 줄 끝-->
                      
                      <div class="row" style="width: 100%; margin-right: 0px; margin-left: 0px;">
                        <div id="kind-size" class="col-lg-3 col-md-3 col-sm-3 col-xs-3">
                         <% if c.hasuk_kind == "일반하숙" %>
                            <span style="color:#2ECC71">[일반하숙]</span>
                          <% elsif c.hasuk_kind == "잠만 자는 방" %>
                            <span style="color:#2ECC71">[잠만자는]</span>
                          <% elsif c.hasuk_kind == "원룸형" %>
                            <span style="color:#2ECC71">[원룸형]</span>
                          <% elsif c.hasuk_kind == "고시원형" %>
                            <span style="color:#2ECC71">[고시원형]</span>
                          <% else %>
                            <span style="color:#3498DB">[형태없음]</span>
                          <% end %>
                        </div>
                        <div id="meal-size" class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                          
                          <% if c.meal4 == "제공 안함" %>
                            <span>| 식사제공 안함</span>
                          <% elsif c.meal1 == nil && c.meal2 == nil && c.meal3 == nil && c.meal4 == nil %>
                            <span>| 식사 DB 없음</span>
                          <% else %>
                              <span>|</span>
                              <% unless c.meal1.nil? %>
                                  <span><%= c.meal1 %>,</span>
                              <% end %>
                              <% unless c.meal2.nil? %>
                                  <span><%= c.meal2 %>,</span>
                              <% end %>
                              <% unless c.meal3.nil? %>
                                  <span><%= c.meal3 %></span>
                              <% end %>
                          
                          <% end %>
                        </div>
                        <div id="room-size" class="col-lg-3 col-md-3 col-sm-3 col-xs-3">
                          <% unless c.size_from.nil? %>
                          <span id="small-size">&nbsp;| <%=c.size_from %>~<%= c.size_to %>평</span>
                          <% else %>
                            <span id="small-size">&nbsp;| 0~1평</span>
                          <% end %>
                        </div>
                        <div id="distance-size" class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                          <% if c.univ_distance1 != "학교선택" %>
                            <% if c.univ_distance1 == "이화" %>
                              <span style="color:#0c6f40"><%= c.univ_distance1 %>여대</span> <span><%= c.ewha_gate1 %> <%= c.distance1 %>m(<%= c.distance_time1 %>분)</span> <br class="hidden-xs hidden-lg">  <span class="hidden-sm">|</span> 
                              
                              <% if c.subway1 == "대흥" %>
                                  <span id="subway" style="color:#9a4510"><%= c.subway1 %>역</span>
                              <% elsif c.subway1 == "신촌" || c.subway1 == "이대" %>
                                  <span id="subway" style="color:#009044"><%= c.subway1 %>역</span>
                              <% elsif c.subway1 == "서강대" %>
                                  <span id="subway" style="color:#41b9b9"><%= c.subway1 %>역</span>
                              <% elsif c.subway1 == "신촌기차" %>
                                  <span id="subway" style="color:#0063b1"><%= c.subway1 %>역</span>
                              <% end %>
                              
                              <span> <%= c.subway_distance1 %>m(<%= c.subway_distance_time1 %>분)</span>
                            <% elsif c.univ_distance1 =="서강" %>
                              <span style="color:#b20000"><%= c.univ_distance1 %>대</span> <span><%= c.sogang_gate1 %> <%= c.distance1 %>m(<%= c.distance_time1 %>분)</span> <br class="hidden-xs hidden-lg">  <span class="hidden-sm">|</span> 
                              
                              <% if c.subway1 == "대흥" %>
                                  <span id="subway" style="color:#9a4510"><%= c.subway1 %>역</span>
                              <% elsif c.subway1 == "신촌" || c.subway1 == "이대" %>
                                  <span id="subway" style="color:#009044"><%= c.subway1 %>역</span>
                              <% elsif c.subway1 == "서강대" %>
                                  <span id="subway" style="color:#41b9b9"><%= c.subway1 %>역</span>
                              <% elsif c.subway1 == "신촌기차" %>
                                  <span id="subway" style="color:#0063b1"><%= c.subway1 %>역</span>
                              <% end %>
                              
                              <span> <%= c.subway_distance1 %>m(<%= c.subway_distance_time1 %>분)</span>
                            <% elsif c.univ_distance1 =="연세" %>
                              <span style="color:#202d61"><%= c.univ_distance1 %>대</span> <span><%= c.yonsei_gate1 %> <%= c.distance1 %>m(<%= c.distance_time1 %>분)</span> <br class="hidden-xs hidden-lg">  <span class="hidden-sm">|</span> 
                              
                              <% if c.subway1 == "대흥" %>
                                  <span id="subway" style="color:#9a4510"><%= c.subway1 %>역</span>
                              <% elsif c.subway1 == "신촌" || c.subway1 == "이대" %>
                                  <span id="subway" style="color:#009044"><%= c.subway1 %>역</span>
                              <% elsif c.subway1 == "서강대" %>
                                  <span id="subway" style="color:#41b9b9"><%= c.subway1 %>역</span>
                              <% elsif c.subway1 == "신촌기차" %>
                                  <span id="subway" style="color:#0063b1"><%= c.subway1 %>역</span>
                              <% end %>
                              
                              <span><%= c.subway_distance1 %>m(<%= c.subway_distance_time1 %>분)</span>
                            <% end %>
                          <% else %>
                            <span id="gate"><span style="color:#0c6f40">이화여대</span> 정문 1064m(20분)</span><br class="hidden-xs hidden-lg"> <span id="subway"> <span class="hidden-sm hidden-md">|</span> 신촌기차역 1103m(21분)</span>
                          <% end %>
                        </div>
                        
                      </div>
                    </div><!--정보 표시 끝-->
                    
                  </div>
                  </a> 
                </div>
        
        <% end %><!--구역 범위에 걸리는 end -->  
        <% end %><!--for loop -->
        <% end %><!--거리 범위에 걸리는 end -->  
              
        <% end %><!--가격 범위에 걸리는 end -->
                
        <% end %><!-- 성별 종류에 걸리는 end -->
            
        <% end %><!-- 하숙방 종류에 걸리는 end -->             
          
        <% end %><!--@univ 걸리는 end -->
          
      <% end %><!--@hasuk each end -->

    
    </div>
  </div>
  </div><!--방 리스트 박스 끝--> 
  
  </div><!--오른쪽 박스 끝 -->


 <script>
 
$(document).ready(function(){
  $.fn.addSliderSegments = function (amount, orientation) {
  return this.each(function () {
    if (orientation == "vertical") {
      var output = ''
        , i;
      for (i = 1; i <= amount - 2; i++) {
        output += '<div class="ui-slider-segment" style="top:' + 100 / (amount - 1) * i + '%;"></div>';
      };
      $(this).prepend(output);
    } else {
      var segmentGap = 100 / (amount - 1) + "%"
        , segment = '<div class="ui-slider-segment" style="margin-left: ' + segmentGap + ';"></div>';
      $(this).prepend(segment.repeat(amount - 2));
    }
  });
};
   var $slider3 = $("#slider3")
    , slider3ValueMultiplier = 1
    , slider3Options;
  
  if ($slider3.length > 0) {
    $slider3.slider({
      min: 20,
      max: 90,
      step: 10,
      animate: "fast",
      values: [ 20, 90 ],
      orientation: "horizontal",
      range: true,
      slide: function(event, ui) {
        $slider3.find(".ui-slider-value:first")
          .text(ui.values[0] * slider3ValueMultiplier)
          .end()
          .find(".ui-slider-value:last")
          .text(ui.values[1] * slider3ValueMultiplier);
      }
    });
  
    slider3Options = $slider3.slider("option");
    $slider3.addSliderSegments(slider3Options.max)
      .find(".ui-slider-value:first")
      .text(slider3Options.values[0] * slider3ValueMultiplier)
      .end()
      .find(".ui-slider-value:last")
      .text(slider3Options.values[1] * slider3ValueMultiplier);
  }
}); 

$(document).ready(function(){
    $('#login').on('show.bs.modal', function () {
       $(this).find('.modal-body').css({
              width:'auto', //probably not needed
              height:'auto', //probably not needed 
              'max-height':'50%'
       });
    });
});

      //검색 버튼 누르기 효과 시작
      $(document).ready(function() {
        
        $("#bt1").click(function(){
          $(this).addClass("active");
          $("#bt2").removeClass("active");
        });
         $("#bt2").click(function(){
          $(this).addClass("active");
          $("#bt1").removeClass("active");
        });
        $("#bt3").click(function(){
          $(this).addClass("active");
          $("#bt4").removeClass("active");
          $("#bt5").removeClass("active");
          $("#bt6").removeClass("active");
          $("#bt7").removeClass("active");
        });
        $("#bt4").click(function(){
          $(this).addClass("active");
          $("#bt3").removeClass("active");
          $("#bt5").removeClass("active");
          $("#bt6").removeClass("active");
          $("#bt7").removeClass("active");
        });
        $("#bt5").click(function(){
          $(this).addClass("active");
          $("#bt3").removeClass("active");
          $("#bt4").removeClass("active");
          $("#bt6").removeClass("active");
          $("#bt7").removeClass("active");
        });
        $("#bt6").click(function(){
          $(this).addClass("active");
          $("#bt3").removeClass("active");
          $("#bt4").removeClass("active");
          $("#bt5").removeClass("active");
          $("#bt7").removeClass("active");
        });
        $("#bt7").click(function(){
          $(this).addClass("active");
          $("#bt3").removeClass("active");
          $("#bt4").removeClass("active");
          $("#bt5").removeClass("active");
          $("#bt6").removeClass("active");
        });
        $("#bt8").click(function(){
          $(this).addClass("active");
          $("#bt9").removeClass("active");
          $("#bt10").removeClass("active");
        });
        $("#bt9").click(function(){
          $(this).addClass("active");
          $("#bt8").removeClass("active");
          $("#bt10").removeClass("active");
        });
        $("#bt10").click(function(){
          $(this).addClass("active");
          $("#bt8").removeClass("active");
          $("#bt9").removeClass("active");
        });  //검색버튼 누르기 효과 끝
      
        $("#fold").click(function(){
          //$(".map_container").slideToggle("slow"); //접기
          $(".roomList").css("width", "100%");
          $(".map_container").css("width", "0%");
          
          if($("#menu-icon").hasClass("glyphicon-menu-left") == true){
  
            //지도 있는 상태-> 없는 상태
            $("#menu-icon").removeClass("glyphicon-menu-left");
            $("#menu-icon").addClass("glyphicon-menu-right");
            
            $(".mainbox").removeClass("col-lg-6");
            $(".mainbox").addClass("col-lg-12");
            $(".room").removeClass("col-lg-6");
            $(".room").addClass("col-lg-3");
            $(".mainbox").removeClass("col-md-6");
            $(".mainbox").addClass("col-md-12");
            $(".room").removeClass("col-md-6");
            $(".room").addClass("col-md-3");
            $(".room").css("width","25%");
            $(".foldButton").css( "width", "1.5%");
            $(".listbox").css("width", "98.5%");

          } else  {
            //지도 없는 상태-> 있는 상태
            $("#menu-icon").removeClass("glyphicon-menu-right");
            $("#menu-icon").addClass("glyphicon-menu-left");
            
            $(".map_container").css("width", "50%");
            $(".roomList").css("width", "100%");
            
            $(".mainbox").removeClass("col-lg-12");
            $(".mainbox").addClass("col-lg-6");
            $(".room").removeClass("col-lg-3");
            $(".room").addClass("col-lg-6");
            $(".mainbox").removeClass("col-md-12");
            $(".mainbox").addClass("col-md-6");
            $(".room").removeClass("col-md-3");
            $(".room").addClass("col-md-6");            
            $(".room").css("width", "50%");
            $(".foldButton").css( "width", "3%");
            $(".listbox").css("width", "97%");
          }
        });
        
        $("#ipadfold").click(function(){
            if($("#menu-icon").hasClass("glyphicon-menu-up") == true){
                //지도 있는 상태-> 없는 상태
                $("#menu-icon").removeClass("glyphicon-menu-up");
                $("#menu-icon").addClass("glyphicon-menu-down");
                $(".map_container").animate({
                    height: "0%"
                    }, 700);
                $(".roomList").css("height","904px");
                
            } else {
                 //지도 없는 상태-> 있는 상태
                $("#menu-icon").removeClass("glyphicon-menu-down");
                $("#menu-icon").addClass("glyphicon-menu-up");
                $(".map_container").animate({
                    height: "46.5%"
                    });
                $(".roomList").css("height","468px");
            }
        });
        
        $(".room").mouseover(function(){
          $(this).css("background-color", "#dddddd");
        });
        $(".room").mouseout(function() {
          $(this).css("background-color", "#fff");
        }); 
      });


  </script>
  
  

</body>
