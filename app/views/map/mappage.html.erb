<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
<!--googlemap 넣기-->
    <script type="text/javascript"
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDdcrzqmVvJgOpIy23Dlw08MHrQN1C17Sg">
    </script>
    <!--jquery 넣기-->
  <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  <!--<link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">-->
  <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
 <script src="/Flat-UI-2.2.2/dist/js/flat-ui.min.js"></script>
    <script type="text/javascript">
    var map = null; 
    //구글맵 기본 설정 시작
      function initialize() {
        //학교별 지도 view 다르게 시작
        if("<%= @univ %>" == "서강"){
          var mapOptions = {
            center: { lat: 37.551445, lng: 126.940793},
            zoom: 16
          };
        } else if ("<%= @univ %>" == "이화") {
          var mapOptions = {
            center: { lat: 37.561803, lng: 126.946909},
            zoom: 15
          };  
        
        } else if("<%= @univ %>" == "연세") {
          var mapOptions = {
            center: { lat: 37.561257, lng: 126.936974},
            zoom: 15
          };  
        } else {
          var mapOptions = {
            center: { lat: 37.557102, lng: 126.940806},
            zoom: 15
          }; 
        } //학교별 지도 view 다르게하기 끝
      map = new google.maps.Map(document.getElementById('map-canvas'),mapOptions);
      
      //학교별 문 이미지 삽입
      var image1 = {
        url: '/images/icons/jung.png',
        size: new google.maps.Size(40, 25),
        
        };
        
        //후문 이미지
        var image2 = {
        url: '/images/icons/who.png',
        size: new google.maps.Size(40, 25),
        
        };
        
        //남문 이미지
        var image3 = {
        url: '/images/icons/nam.png',
        size: new google.maps.Size(40, 25),
        
        };
        
        //북문 이미지
        var image4 = {
        url: '/images/icons/book.png',
        size: new google.maps.Size(40, 25),
        
        };
        
        //서문 이미지
        var image5 = {
        url: '/images/icons/seo.png',
        size: new google.maps.Size(40, 25),
        
        };
        
        //서강대 문
        //정문
      var doorMarker1 = new google.maps.Marker({
        position: {lat: 37.551405, lng: 126.937727},
        map: map,
        icon: image1
      });
          
          
      //후문
      var doorMarker3 = new google.maps.Marker({
        position: {lat: 37.550660, lng: 126.943936},
        map: map,
        icon: image2
      }); 
      
        //남문
      var doorMarker2 = new google.maps.Marker({
        position: {lat: 37.549376, lng: 126.938918},
        map: map,
        icon: image3
      });
      
      
      
      //이화여대 문
      
      //정문
      var doorMarker4 = new google.maps.Marker({
        position: {lat: 37.559727, lng: 126.945536},
        map: map,
        icon: image1
      });
      
      //후문
      var doorMarker5 = new google.maps.Marker({
        position: {lat: 37.563548, lng: 126.944605},
        map: map,
        icon: image2
      });
      

    //북문
      var doorMarker6 = new google.maps.Marker({
        position: {lat: 37.568269, lng: 126.949951},
        map: map,
        icon: image4
      });
      
      
      //서문
      var doorMarker7 = new google.maps.Marker({
        position: {lat: 37.560564, lng: 126.943427},
        map: map,
        icon: image5
      });
      /*
      var a = {
        url: '/images/icons/a.jpg',
        size: new google.maps.Size(100, 50),
        };
      
       var b = {
        url: '/images/icons/b.jpg',
        size: new google.maps.Size(100, 50),
        };
        
        var c = {
        url: '/images/icons/c.jpg',
        size: new google.maps.Size(100, 50),
        };
        
        var d = {
        url: '/images/icons/d.jpg',
        size: new google.maps.Size(100, 50),
        };
       
        var e = {
        url: '/images/icons/e.jpg',
        size: new google.maps.Size(100, 50),
        };
*/
      
      
//서강A(서강대 정문)
  var sogang_a = [
    {lat:37.549929, lng:126.932928},{lat:37.549949, lng:126.933503},{lat:37.549758, lng:126.937520},
    {lat:37.549929, lng:126.932928},{lat:37.549949, lng:126.933503},{lat:37.549758, lng:126.937520},
    {lat:37.549687, lng:126.937893},{lat:37.549706, lng:126.938092},{lat:37.549815, lng:126.938444}, //얘까지 구역3랑 겹침
    {lat:37.550728, lng:126.937935},{lat:37.551342, lng:126.937656},{lat:37.551869, lng:126.937468},
    {lat:37.552006, lng:126.938068},{lat:37.552363, lng:126.938596},{lat:37.552938, lng:126.939108},
    {lat:37.553320, lng:126.939313},{lat:37.553361, lng:126.939309},{lat:37.553426, lng:126.939262},
    {lat:37.553464, lng:126.939243},{lat:37.553518, lng:126.939371},{lat:37.553583, lng:126.939349},
    {lat:37.553571, lng:126.939320},{lat:37.553740, lng:126.939230},{lat:37.553773, lng:126.939190},
    {lat:37.553925, lng:126.939104},{lat:37.553979, lng:126.939045},{lat:37.555019, lng:126.938481},
    {lat:37.555117, lng:126.938367},{lat:37.555385, lng:126.938228},{lat:37.555070, lng:126.937191},
    {lat:37.554747, lng:126.936397},{lat:37.553346, lng:126.934091},{lat:37.552870, lng:126.933512},
    {lat:37.552570, lng:126.933265},{lat:37.552285, lng:126.933101}
    ];
  
   //공통B(서강-이화-연대)  
   var sogang_ewha_yonsei_b = [
    {lat:37.553320, lng:126.939313},{lat:37.553361, lng:126.939309},{lat:37.553426, lng:126.939262},
    {lat:37.553464, lng:126.939243},{lat:37.553518, lng:126.939371},{lat:37.553583, lng:126.939349},
    {lat:37.553571, lng:126.939320},{lat:37.553740, lng:126.939230},{lat:37.553773, lng:126.939190},
    {lat:37.553925, lng:126.939104},{lat:37.553979, lng:126.939045},{lat:37.555019, lng:126.938481},
    {lat:37.555117, lng:126.938367},{lat:37.555385, lng:126.938228},{lat:37.555458, lng:126.937795},
    {lat:37.555890, lng:126.937567},{lat:37.555941, lng:126.937473},{lat:37.556957, lng:126.937492},
    {lat:37.557570, lng:126.937447},{lat:37.559014, lng:126.939414},//연대 정문(A)시작 지점
    {lat:37.559068, lng:126.939704},{lat:37.559112, lng:126.942823},//신촌기차역. 이대정문구역이랑 겹침
    {lat:37.558547, lng:126.942733},{lat:37.556472, lng:126.942865},//구역2랑 겹침
    {lat:37.555711, lng:126.942913},{lat:37.555637, lng:126.942877},{lat:37.555605, lng:126.943034},
    {lat:37.555507, lng:126.943362},{lat:37.555465, lng:126.943569},{lat:37.554984, lng:126.943408},
    {lat:37.554887, lng:126.943363},{lat:37.554748, lng:126.943324},{lat:37.554643, lng:126.943317},
    {lat:37.554641, lng:126.943270},{lat:37.553374, lng:126.940865},{lat:37.553320, lng:126.939313}
    ];
    
  //서강이화C(서강대 후문-이대역)
  var sogang_ewha_c = [
    {lat:37.552311, lng:126.949407},{lat:37.552419, lng:126.948938},{lat:37.552292, lng:126.948584},
    {lat:37.552190, lng:126.948195},{lat:37.552066, lng:126.947814},{lat:37.552027, lng:126.947469},
    {lat:37.552087, lng:126.947246},{lat:37.552223, lng:126.947029},{lat:37.552233, lng:126.946906},
    {lat:37.552162, lng:126.946747},{lat:37.552157, lng:126.945189},{lat:37.551982, lng:126.944938},
    {lat:37.551490, lng:126.944473},{lat:37.550938, lng:126.944175},{lat:37.550999, lng:126.943973},
    {lat:37.551120, lng:126.943949},{lat:37.551267, lng:126.943961},{lat:37.551605, lng:126.944146},
    {lat:37.552392, lng:126.943489},{lat:37.552502, lng:126.943634},{lat:37.552589, lng:126.943696},
    {lat:37.552689, lng:126.943714},{lat:37.552768, lng:126.943702},{lat:37.552839, lng:126.943612},
    {lat:37.552858, lng:126.943540},{lat:37.552910, lng:126.943502},{lat:37.552943, lng:126.943435},
    {lat:37.552940, lng:126.943348},{lat:37.552922, lng:126.943293},{lat:37.552957, lng:126.942964},
    {lat:37.553000, lng:126.942938},{lat:37.553390, lng:126.943003},{lat:37.553426, lng:126.943032},
    {lat:37.553482, lng:126.943106},{lat:37.553586, lng:126.943193},{lat:37.553689, lng:126.943262},
    {lat:37.554045, lng:126.943355},{lat:37.554130, lng:126.943353},{lat:37.554151, lng:126.943276},
    {lat:37.554172, lng:126.943225},{lat:37.554225, lng:126.943220},{lat:37.554339, lng:126.943282},
    {lat:37.554485, lng:126.943298},{lat:37.554561, lng:126.943277},{lat:37.554641, lng:126.943270},//구역5랑 겹치는 부분
    {lat:37.554643, lng:126.943317},{lat:37.554748, lng:126.943324},{lat:37.554887, lng:126.943363},
    {lat:37.554984, lng:126.943408},{lat:37.555465, lng:126.943569},{lat:37.555507, lng:126.943362},
    {lat:37.555605, lng:126.943034},{lat:37.555637, lng:126.942877},{lat:37.555711, lng:126.942913},
    {lat:37.556472, lng:126.942865},{lat:37.556897, lng:126.949849},{lat:37.555082, lng:126.949936},
    {lat:37.554214, lng:126.950315},{lat:37.552440, lng:126.950118},{lat:37.552294, lng:126.949606},
    {lat:37.552311, lng:126.949407}
    ];
    
  //서강D(서강대 후문-대흥역)
  var sogang_d = [
    {lat:37.550138, lng:126.943970},{lat:37.549508, lng:126.940748},{lat:37.548904, lng:126.940769},
    {lat:37.548113, lng:126.942121},{lat:37.547858, lng:126.941900},{lat:37.547449, lng:126.942818},
    {lat:37.547117, lng:126.942413},{lat:37.546652, lng:126.942075},{lat:37.546001, lng:126.944256},
    {lat:37.546041, lng:126.946101},{lat:37.546552, lng:126.946646},{lat:37.546947, lng:126.947005},
    {lat:37.547464, lng:126.947276},{lat:37.548125, lng:126.947346},{lat:37.548607, lng:126.947495},
    {lat:37.548958, lng:126.947643},{lat:37.549887, lng:126.948203},{lat:37.549996, lng:126.948230},
    {lat:37.550287, lng:126.948243},{lat:37.550372, lng:126.948262},{lat:37.550459, lng:126.948326},
    {lat:37.550857, lng:126.948670},{lat:37.551469, lng:126.948703},{lat:37.552130, lng:126.949156}, 
    {lat:37.552311, lng:126.949407},{lat:37.552419, lng:126.948938},{lat:37.552292, lng:126.948584},
    {lat:37.552190, lng:126.948195},{lat:37.552066, lng:126.947814},{lat:37.552027, lng:126.947469},
    {lat:37.552087, lng:126.947246},{lat:37.552223, lng:126.947029},{lat:37.552233, lng:126.946906},
    {lat:37.552162, lng:126.946747},{lat:37.552157, lng:126.945189},{lat:37.551982, lng:126.944938},
    {lat:37.551490, lng:126.944473},{lat:37.550938, lng:126.944175},{lat:37.550138, lng:126.943970}
  ];
  //서강E(서강대 남문)
  var sogang_e = [
    {lat:37.549508, lng:126.940748},{lat:37.548904, lng:126.940769},{lat:37.548113, lng:126.942121},
    {lat:37.547858, lng:126.941900},{lat:37.547449, lng:126.942818},{lat:37.547117, lng:126.942413},
    {lat:37.546652, lng:126.942075},{lat:37.546796, lng:126.940575},{lat:37.547223, lng:126.937988},
    {lat:37.547384, lng:126.934301},{lat:37.548816, lng:126.932796},{lat:37.549929, lng:126.932928}, //구역3 독자영역 끝. 요 지점부터 정문구역 겹침) 
    {lat:37.549949, lng:126.933503},{lat:37.549758, lng:126.937520},{lat:37.549687, lng:126.937893},
    {lat:37.549706, lng:126.938092},{lat:37.549815, lng:126.938444},{lat:37.549394, lng:126.938764},
    {lat:37.549177, lng:126.939053},{lat:37.549508, lng:126.940748}
    ];
    
  //이화A(이대 정문)
  var ewha_a = [ //이대 정문 구역 //신촌기차역에서 시작. 이대정문구역이랑 겹침
    {lat:37.559112, lng:126.942823},{lat:37.558547, lng:126.942733},{lat:37.556472, lng:126.942865},//구역5, 공통구역이랑 만나는 꼭지점
    {lat:37.556897, lng:126.949849},//서강 구역2랑 겹침
    {lat:37.557547, lng:126.949815},{lat:37.558178, lng:126.948429},{lat:37.558574, lng:126.947969},
    {lat:37.558796, lng:126.947918},{lat:37.558752, lng:126.946537},{lat:37.559181, lng:126.946352},
    {lat:37.559162, lng:126.945679},{lat:37.559112, lng:126.942823}
    ];
    
  //이화-연세D(이대후문/연대동문) (B,C는 겹치는 구역)
  var ewha_yonsei_d = [             
    {lat:37.562777, lng:126.943213},{lat:37.563996, lng:126.944737},{lat:37.564362, lng:126.945107},
    {lat:37.566943, lng:126.946975},{lat:37.566913, lng:126.947406},{lat:37.566832, lng:126.947586},
    {lat:37.567125, lng:126.947889},{lat:37.566981, lng:126.948396},{lat:37.567104, lng:126.948498},
    {lat:37.567276, lng:126.948916},{lat:37.567393, lng:126.948882},{lat:37.567601, lng:126.948954},
    {lat:37.567733, lng:126.949420},{lat:37.568013, lng:126.949434},{lat:37.568188, lng:126.949329},
    {lat:37.568298, lng:126.949150},{lat:37.569115, lng:126.948040},{lat:37.569301, lng:126.947577},
    {lat:37.569189, lng:126.946146},{lat:37.569062, lng:126.945272},{lat:37.569065, lng:126.944933},
    {lat:37.568970, lng:126.944677},{lat:37.568506, lng:126.944824},{lat:37.568007, lng:126.945011},
    {lat:37.567569, lng:126.945156},{lat:37.567115, lng:126.945471},{lat:37.566486, lng:126.945841},
    {lat:37.566542, lng:126.946132},{lat:37.566193, lng:126.946113},{lat:37.565778, lng:126.945938},
    {lat:37.565632, lng:126.945814},{lat:37.565513, lng:126.945041},{lat:37.564280, lng:126.943566},
    {lat:37.564124, lng:126.943589},{lat:37.563741, lng:126.943811},{lat:37.563222, lng:126.943159},
    {lat:37.563068, lng:126.942993},{lat:37.562968, lng:126.943001},{lat:37.562777, lng:126.943213}
    ];
    
  //연세A(연대 정문) (B는 겹치는 구역)
  var yonsei_a = [  //명물길 예림고시원 앞에서 시작
    {lat:37.559068, lng:126.939704},{lat:37.559282, lng:126.939681},{lat:37.559358, lng:126.936327},
    {lat:37.559218, lng:126.934372},{lat:37.558977, lng:126.933753},{lat:37.558419, lng:126.932926},
    {lat:37.557389, lng:126.932107},{lat:37.556987, lng:126.931930},{lat:37.556154, lng:126.931892},
    {lat:37.555437, lng:126.932023},{lat:37.555075, lng:126.932181},{lat:37.554292, lng:126.932674},
    {lat:37.553346, lng:126.934091},{lat:37.554747, lng:126.936397},{lat:37.555070, lng:126.937191},
    {lat:37.555385, lng:126.938228},{lat:37.555458, lng:126.937795},{lat:37.555890, lng:126.937567},
    {lat:37.555941, lng:126.937473},{lat:37.556957, lng:126.937492},{lat:37.557570, lng:126.937447},
    {lat:37.559014, lng:126.939414},{lat:37.559068, lng:126.939704}
    ];
     
  //연세C(연대 남문) 
  var yonsei_c = [ 
    {lat:37.559218, lng:126.934372},{lat:37.559830, lng:126.934185},{lat:37.562716, lng:126.931055},{lat:37.564505, lng:126.929139},//연희교차로
    {lat:37.560915, lng:126.926766},{lat:37.559668, lng:126.926766},{lat:37.559598, lng:126.927887},
    {lat:37.559265, lng:126.928693},{lat:37.559191, lng:126.929309},{lat:37.558960, lng:126.929542},
    {lat:37.558817, lng:126.930105},{lat:37.557610, lng:126.931322},{lat:37.557389, lng:126.932107},//연대 정문구역과 만나는 지점  
    {lat:37.558419, lng:126.932926},{lat:37.558977, lng:126.933753},{lat:37.559218, lng:126.934372}
    ];
    
  //연세E(연대 서문)  
  var yonsei_e = [
    {lat:37.564505, lng:126.929139},{lat:37.569866, lng:126.933306},{lat:37.569403, lng:126.934577},
    {lat:37.569258, lng:126.934612},{lat:37.567914, lng:126.934999},{lat:37.567919, lng:126.935547},
    {lat:37.567540, lng:126.935828},{lat:37.566556, lng:126.935190},{lat:37.566350, lng:126.934866},
    {lat:37.566198, lng:126.934404},{lat:37.563799, lng:126.933859},{lat:37.563453, lng:126.933630},
    {lat:37.563158, lng:126.932769},{lat:37.563256, lng:126.932042},{lat:37.562716, lng:126.931055},{lat:37.564505, lng:126.929139}
    ];
    
  //서강A(서강대 정문)
  var sogang_a = new google.maps.Polygon({
    paths: sogang_a,
    //strokeColor: '#594F4F',
    strokeOpacity: 0.3,
    strokeWeight: 1,
    fillColor: '#7FE817',
    fillOpacity: 0.3
  });
  <% if @univ.include? "서강" %>
  
    sogang_a.setMap(map);
  /* 
    var sogang_a_mark = new google.maps.Marker({
        position: {lat: 37.552330, lng:126.936627},
        map: map,
        //icon: a
      }); */
  <% end %>
  //공통B(서강-이화-연대)
  var sogang_ewha_yonsei_b = new google.maps.Polygon({
    paths: sogang_ewha_yonsei_b,
    //strokeColor: '#594F4F',
    strokeOpacity: 0.3,
    strokeWeight: 1,
    fillColor: '#8017E8',
    fillOpacity: 0.25
  });
 
  sogang_ewha_yonsei_b.setMap(map);
   /*
   var sogang_b_mark = new google.maps.Marker({
        position: {lat:37.556045, lng:126.940645},
        map: map,
        //icon: b
      });
  */
  //서강이화C(서강대 후문-이대역)
 var sogang_ewha_c = new google.maps.Polygon({
    paths: sogang_ewha_c,
    //strokeColor: '#594F4F',
    strokeOpacity: 0.3,
    strokeWeight: 1,
    fillColor: '#69FAAA',
    fillOpacity: 0.3
  });
<% unless @univ.include? "연세" %>
    sogang_ewha_c.setMap(map);
 /*   var sogang_c_mark = new google.maps.Marker({
        position: {lat:37.554180, lng:126.946500},
        map: map,
        //icon: c
      });
      */
<% end %>
  //서강D(서강대 후문-대흥역)
  var sogang_d = new google.maps.Polygon({
    paths: sogang_d,
    //strokeColor: '#594F4F',
    strokeOpacity: 0.3,
    strokeWeight: 1,
    fillColor: '#008080',
    fillOpacity: 0.15
  });
  <% if @univ.include? "서강" %>
  sogang_d.setMap(map);
  /*
  var sogang_d_mark = new google.maps.Marker({
        position: {lat:37.548951, lng:126.945549},
        map: map,
        //icon: d
      });
      */
  <% end %>
  //서강E(서강대 남문)
  var sogang_e = new google.maps.Polygon({
    paths: sogang_e,
    //strokeColor: '#594F4F',
    strokeOpacity: 0.3,
    strokeWeight: 1,
    fillColor: '#F75D59',
    fillOpacity: 0.3
  });
  <% if @univ.include? "서강" %>
  sogang_e.setMap(map);
  /*
  var sogang_e_mark = new google.maps.Marker({
        position: {lat:37.548084, lng:126.936736},
        map: map,
        //icon: e
      });
      */
  <% end %>
  //이화A(이대 정문)
   var ewha_a = new google.maps.Polygon({
    paths: ewha_a,
    //strokeColor: '#594F4F',
    strokeOpacity: 0.3,
    strokeWeight: 1,
    fillColor: '#F87217',
    fillOpacity: 0.3
  });
  <% if @univ.include? "이화" %>
  ewha_a.setMap(map);
  /*
  var ewha_a_mark = new google.maps.Marker({
        position: {lat: 37.557620, lng:126.946500},
        map: map,
        //icon: a
      });
      */
  <% end %>
  //이화-연세D(이대후문/연대동문)
  var ewha_yonsei_d = new google.maps.Polygon({
    paths: ewha_yonsei_d,
    //strokeColor: '#594F4F',
    strokeOpacity: 0.3,
    strokeWeight: 1,
    fillColor: '#7FE817',
    fillOpacity: 0.3
  });
<% unless @univ.include? "서강" %>
  ewha_yonsei_d.setMap(map);
  /*
  var ewha_d_mark = new google.maps.Marker({
        position: {lat: 37.567826, lng:126.947576},
        map: map,
        //icon: d
      });
      */
<% end %>
  //연세A(연대 정문)
   var yonsei_a = new google.maps.Polygon({
    paths: yonsei_a,
    //strokeColor: '#594F4F',
    strokeOpacity: 0.3,
    strokeWeight: 1,
    fillColor: '#B51414',
    fillOpacity: 0.2
   });
<% if @univ.include? "연세" %>
  yonsei_a.setMap(map);
  /*
  var yonsei_a_mark = new google.maps.Marker({
        position: {lat: 37.556029, lng:126.935924},
        map: map,
        //icon: a
      });
      */
   <% end %>
  //연세C(연대 남문) 
 var yonsei_c = new google.maps.Polygon({
    paths: yonsei_c,
    //strokeColor: '#594F4F',
    strokeOpacity: 0.3,
    strokeWeight: 1,
    fillColor: '#FFFF00',
    fillOpacity: 0.2
  });
<% if @univ.include? "연세" %>
  yonsei_c.setMap(map);
 /*
 var yonsei_c_mark = new google.maps.Marker({
        position: {lat:37.559828, lng:126.931001},
        map: map,
        //icon: c
      });
      */
  <% end %>
  //연세E(연대 서문) 
 var yonsei_e = new google.maps.Polygon({
    paths: yonsei_e,
    //strokeColor: '#594F4F',
    strokeOpacity: 0.3,
    strokeWeight: 1,
    fillColor: '#1414B4',
    fillOpacity: 0.2
  });
  <% if @univ.include? "연세" %>
   yonsei_e.setMap(map); 
  /*
   var yonsei_e_mark = new google.maps.Marker({
        position: {lat: 37.565674, lng:126.933008},
        map: map,
        //icon: e
      });
      */
 <% end %>    
    
  
      //학교별 마커 띄우기 시작
     
       $.get("/map/from_hasuk", function(data, status){
             for (var i = 0; i < data.length; i++){
               //학교 찍히는 것 위도 경도로 찍는 것 생각
              var univs = data[i].univ;
              var infowindow = null;
              var infoWindow = new google.maps.InfoWindow();
              //if (univs.indexOf("<%#= @univ %>") !== -1) {
               var contentString =
            '<div id="infoWindow" style="margin-bottom:5px">'+
               '<div class="row" style="max-width:240px">'+
               '<div class="col-md-4 col-sm-4 col-xs-4" style=" width: 100px; padding-left: 5px; padding-right: 0px;">' +
                   '<img src="'+ data[i].room_img1 + '" height="80px" width="100px">' +
                 '</div>'+
               '<div class="col-md-7 col-sm-7 col-xs-7" style="width: 140px;padding-right: 0px;">' +
                   '<div class="row" style="margin-left:1px; padding-left:0px; padding-right:0px">' +
                     '<div class="col-md-3 col-sm-3 col-xs-3" style="margin-right:-5px; padding-left:0px; padding-right:0px">' +
                       '<p style="font-size: 20px; margin-top:5px">'+ data[i].price_from +'</p>' +
                     '</div>' +
                     '<div class="col-md-9 col-sm-9 col-xs-9" style="margin-top:6px; margin-bottom:5px; padding-left:0px; padding-right:0px">'+
                      '(예치금:'+ data[i].small_deposit + '만원)&nbsp;'+
                     '</div>'+
                  '</div>'+
                 '<p style="margin-bottom:5px; font-size:12px">거리 : 정문에서 10분</p>' +
                 '<p style="color:#eb9088; margin-bottom:5px; font-size:13px">'+ '#아침,저녁</p>' +
               '</div>'+
               '</div>'+
             '</div>';
                    var latlng = new google.maps.LatLng(data[i].lat, data[i].lng);
                    
                    var marker = new google.maps.Marker({
                         position: latlng,
                         map: map
                     });
                    marker.setValues({type: "point", id: i});
                    var data_id = data[i].id;
                    var str_id = data_id.toString();
                    //console.log(str_id);
                     var hash_id = "a" +str_id;
                     markerObj = document.getElementById(hash_id);


//event 구간
//1.말풍선 출력 
                    google.maps.event.addListener(marker,'mouseover', (function(marker,contentString,infoWindow){ 
                          return function() {
                            infoWindow.setContent(contentString);
                            infoWindow.open(map,marker);

                           }; // function end
                      })(marker,contentString,infoWindow));

//2.말풍선 지우기
                     google.maps.event.addListener(marker, 'mouseout', (function(infoWindow) {
                       return function()  {
                        infoWindow.close();
                        };
                     })(infoWindow));

 // listbox로 말풍선 띄우기
                     google.maps.event.addDomListener(markerObj, 'mouseover', (function(marker, contentString, infoWindow) {
                       return function() {
                         infoWindow.setContent(contentString);
                         infoWindow.open(map,marker);
                       }; // function end
                     })(marker,contentString,infoWindow));

 // listbox로 말풍선 띄운 것 지우기
                      google.maps.event.addDomListener(markerObj, 'mouseout', (function(infoWindow) {
                        return function() {
                          infoWindow.close();
                        }; // function end
                      })(infoWindow));
 
 //listbox 색칠
                     google.maps.event.addListener(marker, 'mouseover', (function(str_id) {
                      return function() {
                         var result_id = "#" + "a" + str_id;
                       //console.log(result_id);

                       $(document).ready(function() {
                         $(result_id).css("background-color","#cbefde");
                         var list_height = $(".roomList").height();
                         var item_offset = $(result_id).offset().top;
                         var item_height = $(result_id).height();
                         var place;

                         if ( item_height < list_height) {
                           place = item_offset - ((list_height / 2) - (item_height / 2));
                         } else {
                           place = item_offset;
                         }

                         $(".roomList").animate({scrollTop: place}, 700);
                       });

                      };

                     })(str_id));




//3. listbox 색 입히기
                    google.maps.event.addListener(marker, 'mouseover', (function(str_id) {
                     return function() { 
                        var result_id = "#" + "a" + str_id;
                      //console.log(result_id); 

                      $(document).ready(function() {
                        $(result_id).css("background-color","#a4e2c5");
                        var list_top = $(".roomList").position().top;
                        var list_bottom = $('.roomList').position().top+$('.roomList').outerHeight(true);
                        var list_height = list_top + list_bottom;
                        var place  = list_top - ( list_height - list_bottom ) / 2
                      
                        $(".roomList").animate({scrollTop: place}, 500);
                      });
 
                     };

                    })(str_id));

//4. listbox 색 지우기
                     google.maps.event.addListener(marker, 'mouseout', (function(str_id) {
                      return function() {
                         var result_id = "#" + "a" + str_id;
                       //console.log(result_id);

                       $(document).ready(function() {
                        $(result_id).css("background-color","#fff");
                        });

                      };

                     })(str_id));

                 marker.setMap(map);
                //}//indexOf 걸리는 괄호
             }
         }); //학교별 마커 띄우기 끝


 
        
      } //구글맵 기본 설정 끝
      google.maps.event.addDomListener(window, 'load', initialize);
      
      
    </script>
 
   <style type="text/css">
 
    /*사이즈별 모달 조정 */
    @media only screen and (min-width:960px){
        /* styles for browsers larger than 960px; */
     
    }
    @media only screen and (min-width:1440px){
        /* styles for browsers larger than 1440px; */
      
    }
    @media only screen and (min-width:2000px){
        /* for sumo sized (mac) screens */
    }
     @media (max-width: 400px) {
      .modal-content#modal-size1{
       width:300px;
       left:0%;
       padding:0px;
      }
      #signbutton {
        padding-left:0px;
      }
      /*아이폰4 크기 */
      .modal-content#modal-size2{

     }
     #small-device{
       padding:0.3em;
       font-size:0.7em;
     }
     .small-device{
       padding:0.3em;
      font-size:0.7em;
     }
     #price-size {
       
     }
     #deposit-size {
       
     }
     #gender-size {
     
     }
     #icon-size {
       
     }
     #kind-size{
       
     }
     #meal-size{
       
     }
     #room-size{
       
     }
     #distance-size{
       
     }
    }
     @media (max-width: 480px) {
      .modal-content#modal-size1{
       width:300px;
       left:0%;
       padding:0px;
      }
      #signbutton {
        padding-left:0px;
      }
      /*조금 큰 스마트폰 크기 */
     
     #small-device{
       padding:0.4em;
       font-size:0.8em;
     }
     .small-device{
       padding:0.4em;
       font-size:0.8em;
     }
     #price-size {
       
     }
     #deposit-size {
       
     }
     #gender-size {
     
     }
     #icon-size {
       
     }
     #kind-size{
       
     }
     #meal-size{
       
     }
     #room-size{
       
     }
     #distance-size{
       
     }
     
    }
    @media (max-width: 768px) {
     .modal-content#modal-size1{

     }
     
     #small-device {
       padding:0.7em;
     }
     .small-device{
       padding:0.7em;
     }
     /*패블릿 스마트폰 */
     #price-size {
       
     }
     #deposit-size {
       
     }
     #gender-size {
     
     }
     #icon-size {
       
     }
     #kind-size{
       
     }
     #meal-size{
       
     }
     #room-size{
       
     }
     #distance-size{
       
     }
    }
    @media only screen and (device-width:768px){
       /* default iPad screens */
       .modal-content#modal-size1{

       }
       /*아이패드 */
       .modal-content#modal-size2{

     }
     html, body { 
      height: 97.5%; 
      margin: 0; 
      padding: 0; 
    }
    .map_container {
      padding-left:0px; 
      padding-right:0px;
      height: 46.5%;
      margin-top: 0.1em;
    }
    .listbox {
        width:100%;
    }
     #small-device{
       padding:0.7em;
     }
     .small-device{
       padding:0.7em;
     }
     .roomList{
       height:468px;
       overflow:auto;
     }
     #price-size {
        width:20%;
        margin-left:2px;
     }
     #price-size h4{
      
       font-size:1em;
       margin-top:6px;
     }
     
     #deposit-size {
       width:27%;
       margin-left:5px;
     }
     #deposit-size p{
       font-size:0.5em;
     }
     #gender-size {
         margin:0px;
         padding:0px; 
         width:20%;
     }
     #gender-size p {
         margin-left:2px;
     }
     #icon-size {
        width:30%;
        padding-left:3px;
        padding-top:6px;
        padding-right:0px;
       
     }
     #kind-size{
       width:23%;
       margin:0px;
       padding:0px;
       margin-left:2px;
     }
     #kind-size span{
        font-size:0.6em; 
     }
     #meal-size{
        font-size:0.6em;
        margin-top:7px; 
     }
     #room-size{
       margin:0px;
       padding:0px;
       width:17%;
     }
     #room-size span{
        font-size:0.6em;
     }
     #distance-size{
       margin:0px;
        padding:0px;
        margin-left:2px;
     }
     #distance-size span{
         font-size:0.6em;
     }
     .image-size {
        height:6.5em; 
        min-height:100px;
     }
    }

    @media (min-width: 768px) {
     .modal-content#modal-size1{

     }
     
     #small-device{
       padding:0.7em;
     }
     .small-device{
       padding:0.7em;
     }
     /*아이패드보다 크고 832px 이하 */
     #price-size {
       
     }
     #deposit-size {
       
     }
     #gender-size {
     
     }
     #icon-size {
       margin:0px; 
       padding-left:3px;
     }
     #kind-size{
       
     }
     #kind-size span {
        font-size:0.6em;
     }
     #meal-size{
       margin-top:7px; 
       padding:0px; 
       width: 30%;
     }
     #meal-size span {
        font-size:0.6em;
     }
     #room-size{
       
     }
     #distance-size{
       margin:0px;
        padding:0px;
        margin-left:2px;
     }
     #distance-size span{
         font-size:0.6em;
     }
    }
     @media (min-width: 832px) {
     
     #small-device{
       padding:0.7em;
     }
     .small-device{
       padding:0.7em;
     }
     /*832px보다 크고 960px 이하 */
     #price-size {
       
     }
     #deposit-size {
       
     }
     #gender-size {
     
     }
     #icon-size {
       
     }
     #kind-size{
       
     }
     #meal-size{
       
     }
     #room-size{
       
     }
     #distance-size{
       
     }
    }
   
    @media (min-width: 960px) {
      .modal-content#modal-size1{
       width:400px;
       left:0%;
       padding:0px;
     }
      .modal-content#modal-size2{
   
     }
   
    .map_container {
      padding-left:0px; 
      padding-right:0px;
      height: 100%;
      margin-top: 0.1em;
    }
     .listbox {
        width:97%;
    }
    .roomList{
       height:550px;
       overflow:auto;
     }
     #small-device{
       padding:0.7em;
     }
     .small-device{
       padding:0.7em;
     }
     /*노트북 크기 */
     #price-size {
        font-size:1.5em;
        margin-left:5px;
     }
     #price-size h4 {
        margin-top:2px;
     }
     #deposit-size {
       margin-left:4px;
         width:28%;
     }
     #deposit-size p{
         font-size:0.7em;
          margin-left:5px;
     }
     #gender-size {
         margin:0px;
         padding:0px; 
         width:20%;
         margin-top:3px;
     }
     #icon-size {
       width:24%;
        padding-left:5px;
        padding-top:8px;
        margin:0px; 
        padding:0px;
        margin-left: 5px;
        margin-top: 8.5px;

     }
     #kind-size{
       width:20%;
       margin:0px;
       padding:0px;
       margin-left:5px;
     }
     #kind-size span{
        font-size:12px; 
     }
     #meal-size{
       margin:0px; 
       padding:0px; 
       width: 30%;
     }
     #meal-size span {
        font-size:12px;
     }
     #room-size{
       margin:0px;
       padding:0px;
       width: 17%;
     }
     #room-size span{
        font-size:12px;
     }
     #distance-size{
        margin:0px;
        padding:0px;
        margin-left:5px;
     }
     #distance-size span{
        font-size:12px;
     }
     .image-size {
        height:9.75em; 
        min-height:140px;
     }
    } 
    @media (min-width: 1050px){
     .modal-content#modal-size2{
        width:500px;
        left:55%;
     }
    .map_container {
      padding-left:0px; 
      padding-right:0px;
      height: 100%;
      margin-top: 0.1em;
    }
    
     .listbox {
        width:97%;
    }
     #small-device{
       padding:0.7em;
     }
     .small-device{
       padding:0.7em;
     }
     #price-size {
        font-size:1.5em;
        margin-left:5px;
     }
     #price-size h4{
      margin-top:2px;
     }
     #deposit-size {
        width:28%;
     }
     #deposit-size p{
         font-size:0.7em;
         margin-left:5px;
     }
     #gender-size {
         margin:0px;
         padding:0px; 
         width:20%;
         margin-top:3px;
     }
     #icon-size {
        width:24%;
        padding-left:5px;
        padding-top:8px;
        margin:0px; 
        padding:0px;
        margin-left: 5px;
        margin-top: 8.5px;
     }
     #kind-size{
       width:20%;
       margin:0px;
       padding:0px;
       margin-left:5px;
     }
     #kind-size span{
        font-size:12px; 
     }
     #meal-size{
       margin:0px; 
       padding:0px; 
       width: 30%;
     }
     #meal-size span {
        font-size:12px;
     }
     #room-size{
       margin:0px;
       padding:0px;
       width: 17%;
     }
     #room-size span{
        font-size:12px;
     }
     #distance-size{
        margin:0px;
        padding:0px;
        margin-left:5px;
     }
     #distance-size span{
        font-size:12px;
     }
     .image-size {
        height:9.75em; 
        min-height:140px;
     }
     /*노트북 크기 */
    }
    @media (min-width: 1135px){
     
     /*노트북 크기 */
    }
    
   
   
    /*사이즈별 모달 조정 */
    
    
    
    
    
    #search.btn-info{
      color:#3498db;
      background-color:#fff;
      border:1px solid #3498db;
    }
    #search.btn-info:hover {
      color:#fff;
      background-color:#31b0d5;
      border:1px solid #31b0d5;
    }
    #out.btn-danger {
      color:#e74c3c;
      background-color:#fff;
      border:1px solid #e74c3c;
    }
    #out.btn-danger:hover {
      color:#fff;
      background-color:#e74c3c;
      border:1px solid #e74c3c;
    }
    .reverse.btn-success {
      color:#2ECC71;
      background-color:#fff;
      border:1px solid #2ECC71;
    }
    .reverse.btn-success:hover {
      color:#fff;
      background-color:#2ECC71;
      border:1px solid #2ECC71;
    }
    .reverse.btn-success.active {
      color:#fff;
      background-color:#2ECC71;
      border:1px solid #2ECC71;
    }
    
   #infoWindow {
        width:240px;
    }
    a:hover{
      background-color:#dddddd;
      color:blue;
    }
    
    .image { 
     position: relative; 

    }
    
    /*하숙방 이름 css */
    #nameOfhasuk { 
       position: absolute; 
       top: 10px;
       left: 10px; 
    }
    #nameOfhasuk p {
        font-size: 0.65em;
       color:#ECF0F1;
       padding: 5%;
       border-radius:5px;
       background: rgb(0, 0, 0);
       background: rgba(0, 0, 0, 0.7);
       margin-bottom: 0px;
    }
    
    body.modal-open {
        overflow: hidden;
        position:fixed;
        width: 100%;
    }
    #myModal .modal-dialog  {
      width:30%;
     
    }
    #myModal2 .modal-dialog {
     
      left:30%;
      outline: none;
      width:35%;
    }
    
    .modal-backdrop.in {
      opacity:0.1;
    }
    
    .ui-slider-horizontal .ui-slider-handle{
      background:#E67E22;
      border-color:#E67E22;
    }
    .ui-slider-range {
      background:#F1C40F;
   
    }
    .ui-slider-segment {
      background-color: #ECF0F1;
      margin-top:5px;
    }
    .ui-slider {
      border-color: #F5F5F5;
    }
    
    /*지도 레이아웃 설정 */
    html, body { 
      height: 95.5%; 
      margin: 0; 
      padding: 0; 
    }
    #map-canvas{
        height:100%;
        width:100%;
    }
    .mainbox {
      height:100%;
      margin: 0;
      padding: 0;
    }
    .folderbox {
      padding:0px;
    }
    .roomList {
      padding:0px; 

      overflow-y:auto;
    }
    #iconlist {
      width:20px; 
      height:20px;
      margin:0px; 
      margin-left:5px;
      margin-top:8px;
      float:left;
    }
    .thumbnail {
      line-height:1.2;
      margin:5px; 
      border-radius:0px;
    }
    </style> 
</head>
<body>
 <%= render "map/search_modal" %>

  <!--지도부분 시작-->
  
  <div class="col-md-6 col-sm-12 col-xs-12 map_container hidden-xs" style="padding-left:0px; padding-right:0px;">         
    <!-- head에서 설정한 id로 map이 들어온다. -->
    <div id="map-canvas">
    </div>

  </div><!--지도부분 끝-->
  
  <!--박스 늘리기 for ipad 버튼-->
  <div class="col-sm-12 hidden-xs hidden-md hidden-lg ipadButton" style="padding-right: 0px; padding-left: 0px; width:100%; height:30px; background-color:#95A5A6;">
    <button id="ipadfold" style="border-color:#fff; background-color:#95A5A6; color:#fff; width:100%; height:100%; padding:0px;" type="button" class="btn btn-default" aria-label="Center">
      <span id="menu-icon" class="glyphicon glyphicon-menu-up" aria-hidden="true"></span><br/>
    </button>
  </div>
  
  <!--오른쪽 박스 시작-->
    
 <div class="col-md-6 col-sm-12 col-xs-12 mainbox" style="padding-left: 0px; padding-right: 0px;"> 

   
    <!--방 리스트 박스-->
  <div class="col-md-1 col-sm-1 col-xs-1 hidden-xs hidden-sm foldButton" style="padding-right: 0px; padding-left: 0px; width:3%; height:100%">
    <div style="padding-right: 0px;padding-left: 0px; height:100%">
      <div class="folderbox" style="height:100%">
        <button id="fold" style="border-color:#fff; background-color:#95A5A6; color:#fff; width:100%; height:100%; padding-left: 0px;padding-right: 0px;" type="button" class="btn btn-default" aria-label="Center">
          <span id="menu-icon" class="glyphicon glyphicon-menu-left" aria-hidden="true"></span><br/>
        </button>
      </div>
    </div>
  </div>
  
  
    <div class="listbox col-md-11 col-sm-12 col-xs-12" style="padding-left:0px; padding-right:0px;">
      <div class="panel panel-default">
        <div class="panel-heading col-md-12 col-xs-12 col-sm-12" style="background-color:#16A085; color:#fff; padding:5px; padding-left:10px; font-size:0.8em">검색결과</div>
        <div class="col-md-12 col-xs-12 col-sm-12 roomList panel-body" style="padding:0px;">
      
      <%# cnt=0 %>
      <% @hasuk.each do |c| %>
        <% #if (c.univ || '').include? @univ %>
          
          <%# cnt= cnt+1 %>
          <%# if cnt == 6 %>
            <%# break %>
          <%# end %>
          
              <!--개별 방 박스 1 시작-->
              
                <div class="room col-md-6 col-sm-4 col-xs-12" id='a<%=c.id %>' style="padding-left: 0px; padding-right:0px;">
                  <a style="color:#7F8C8D" href="/hasuk_houses/<%= c.id %>" target="_blank">
                  <div class="img-responsive thumbnail">
                    
                    <!--이미지 지정-->
                    <div class="image col-md-12 col-xs-12 col-sm-12" style="margin:0px; padding:0px">
                      <div id="nameOfhasuk">
                        <p><%= c.hasuk_name %></p>
                      </div>
                      <img src="<%= c.room_img1.url %>" alt="이미지 없음" class="image-size" style="width:100%;">
                    </div>
                    
                    <!--정보 표시-->
                    <div class="caption" style="padding-top:5px; padding-left:0px; padding-right:0px; padding-bottom:5px">
                      <div class="row" style="width: 100%; margin-right: 0px; margin-left: 0px;">
                        <div id="price-size" class="col-md-3 col-sm-3 col-xs-3" style="margin:0px; padding:0px;">
                          <div style="float:left">
                            <% unless c.price_from.nil? %>
                            <h4 style="color:#445d82; margin-bottom:0px;">
                              <%= c.price_from %>~<%= c.price_to %>
                            </h4>
                            <% else %>
                            <h4 style="color:#445d82; margin-bottom:0px;">
                              00~00
                            </h4>
                            <% end %>
                          </div>
                        </div>
                        <div id="deposit-size" class="col-md-3 col-sm-3 col-xs-3" style="padding:0px;">
                          <div style="float:left">
                            <% if c.small_deposit == nil && c.big_deposit == nil %>
                              <p style="margin-top:8px; margin-bottom:0px;">(DB 없음)</p>
                              
                            <% else %>
                            
                              <% if c.small_deposit == 0 %>
                                
                                <% if c.big_deposit == 0 %>
                                  <p style="margin-top:8px; margin-bottom:0px;">(예치금 없음)</p>
                                <% else %>
                                  <p style="margin-top:8px; margin-bottom:0px;">(보증금 <%= c.big_deposit %>)</p>
                                <% end %>
                              
                              <% else %>
                                 <p style="margin-top:8px; margin-bottom:0px;">(예치금 <%= c.small_deposit %>)</p>
                              <% end %>
                            
                            <% end %>
                              
                          </div>
                        </div>
                        <div id="gender-size" class="col-md-3 col-sm-3 col-xs-3">
                          
                          <% if c.gender=="여성전용" %>
                            <div class="has-error" style="margin-top:7px; margin-bottom:0px;">
                              <p class="form-control" type="text" style="color:#E74C3C; border:1px solid #E74C3C; margin-top:6px; margin-left:3px;text-align:center; font-size: 10px; padding: 2px; width: 100%; height:20%; margin-bottom:0px;">여성전용</p>
                            </div>
                          <% elsif c.gender =="남녀공용" %>
                            <div class="has-error" style="margin-top:7px; margin-bottom:0px;">
                              <p class="form-control" type="text" style="color:#2ECC71; border:1px solid #2ECC71; text-align:center; margin-top:6px; margin-left:3px; font-size: 10px; padding: 2px; width: 100%; height:20%; margin-bottom:0px;">남녀공용</p>
                            </div>
                          <% elsif c.gender == "남녀층 분리" %>
                            <div class="has-error" style="margin-top:7px; margin-bottom:0px;">
                              <p class="form-control" type="text" style="color:#9B59B6; border:1px solid #9B59B6; margin-top:6px; margin-left:3px; text-align:center; font-size: 10px; padding: 2px; width: 100%; height:20%; margin-bottom:0px;">남녀층분리</p>
                            </div>
                          <% elsif c.gender == "남성전용" %>
                            <div class="has-error" style="margin-top:7px; margin-bottom:0px;">
                              <p class="form-control" type="text" style="color:#2980b9; border:1px solid #2980B9; margin-top:6px; margin-left:3px; text-align:center; font-size: 10px; padding: 2px; width: 100%; height:20%; margin-bottom:0px;">남성전용</p>
                            </div>
                          <% else %>
                            <div class="has-error" style="margin-top:7px; margin-bottom:0px;">
                              <p class="form-control" type="text" style="color:#E74C3C; border:1px solid #E74C3C; margin-top:6px; margin-left:3px;text-align:center; font-size: 10px; padding: 2px; width: 100%; height:20%; margin-bottom:0px;">DB 없음</p>
                            </div>
                          <% end %>
                          
                        </div>
                        <div id="icon-size" class="col-md-3 col-sm-3 col-xs-3">
                          <% if c.internet =="와이파이" || c.internet =="유선 인터넷" %>
                            <img src="/images/icons/wifi.png" style="width:20px; height:20px; float:left; margin-right:2px;">
                          <% elsif c.internet =="없음" %>  
                            <img src="/images/icons/wifi2.png" style="width:20px; height:20px; float:left; margin-right:2px;">
                          <% else %>
                            <img src="/images/icons/wifi2.png" style="width:20px; height:20px; float:left; margin-right:2px;">
                          <% end %>
                          <% if c.personal_option8 =="화장실" %>
                            <img src="/images/icons/toilet.png" style="width:20px; height:20px; float:left; margin-right:4px;">
                          <% elsif c.personal_option8 == nil %>   
                            <img src="/images/icons/toilet2.png" style="width:20px; height:20px; float:left; margin-right:4px;">
                          <% else %>
                            <img src="/images/icons/air2.png" style="width:20px; height:20px; float:left; margin-right:4px;">
                          <% end %>
                          <% if c.personal_option6 =="에어컨" %>
                            <img src="/images/icons/air.png" style="width:20px; height:20px; float:left;">
                          <% elsif c.personal_option6 == nil %>   
                            <img src="/images/icons/air2.png" style="width:20px; height:20px; float:left;">
                          <% else %>
                            <img src="/images/icons/air2.png" style="width:20px; height:20px; float:left;">
                          <% end %>
                        </div>
                      </div><!--정보 첫번째 줄 끝-->
                      
                      <div class="row" style="width: 100%; margin-right: 0px; margin-left: 0px;">
                        <div id="kind-size" class="col-md-3 col-sm-3 col-xs-3">
                          <% if c.hasuk_kind == "일반하숙" %>
                            <span style="color:#27AE60">[일반하숙]</span>
                          <% elsif c.hasuk_kind == "잠만 자는 방" %>
                            <span style="color:#27AE60">[잠만자는]</span>
                          <% elsif c.hasuk_kind == "원룸형" %>
                            <span style="font-size:12px; color:#27AE60">[원룸형]</span>
                          <% elsif c.hasuk_kind == "고시원형" %>
                            <span style="color:#27AE60">[고시원형]</span>
                          <% else %>
                            <span style="color:#27AE60">[형태없음]</span>
                          <% end %>
                        </div>
                        <div id="meal-size" class="col-md-4 col-sm-4 col-xs-4">
                          
                          <% if c.meal4 == "제공 안함" %>
                            <span>| 제공 안함</span>
                          <% elsif c.meal1 == nil && c.meal2 == nil && c.meal3 == nil && c.meal4 == nil %>
                            <span>| 식사 DB 없음</span>
                          <% else %>

                              <% unless c.meal1.nil? %>
                                  <span><%= c.meal1 %>,</span>
                              <% end %>
                              <% unless c.meal2.nil? %>
                                  <span><%= c.meal2 %>,</span>
                              <% end %>
                              <% unless c.meal3.nil? %>
                                  <span><%= c.meal3 %></span>
                              <% end %>
                          
                          <% end %>
                        </div>
                        <div id="room-size" class="col-md-3 col-sm-3 col-xs-3">
                          <% unless c.size_from.nil? %>
                          <span id="small-size">| <%=c.size_from %>~<%= c.size_to %>평</span>
                          <% else %>
                            <span id="small-size">| 0~1평</span>
                          <% end %>
                        </div>
                        <div id="distance-size" class="col-md-12 col-sm-12 col-xs-12">
                          <% if c.univ_distance1 != "학교선택" %>
                            <% if c.univ_distance1 == "이화" %>
                              <span id="gate"><%= c.univ_distance1 %>여대 <%= c.ewha_gate1 %> <%= c.distance1 %>m(<%= c.distance_time1 %>분)</span><br class="hidden-xs hidden-md hidden-lg"> <span id="subway"> <span class="hidden-sm">|</span> <%= c.subway1 %>역 <%= c.subway_distance1 %>m(<%= c.subway_distance_time1 %>분)</span>
                            <% elsif c.univ_distance1 =="서강" %>
                              <span id="gate"><%= c.univ_distance1 %>대 <%= c.sogang_gate1 %> <%= c.distance1 %>m(<%= c.distance_time1 %>분)</span><br class="hidden-xs hidden-md hidden-lg"> <span id="subway"> <span class="hidden-sm">|</span> <%= c.subway1 %>역 <%= c.subway_distance1 %>m(<%= c.subway_distance_time1 %>분)</span>
                            <% elsif c.univ_distance1 =="연세" %>
                              <span id="gate"><%= c.univ_distance1 %>대 <%= c.yonsei_gate1 %> <%= c.distance1 %>m(<%= c.distance_time1 %>분)</span><br class="hidden-xs hidden-md hidden-lg"> <span id="subway"> <span class="hidden-sm">|</span> <%= c.subway1 %>역 <%= c.subway_distance1 %>m(<%= c.subway_distance_time1 %>분)</span>
                            <% end %>
                          <% else %>
                            <span id="gate">이화여대 정문 1064m(20분)</span><br class="hidden-xs hidden-md hidden-lg"> <span id="subway"> <span class="hidden-sm">|</span> 신촌기차역 1103m(21분)</span>
                          <% end %>
                        </div>
                        
                      </div><!--정보 두번째 줄 끝-->
                      <!--<div class="row" style="width: 100%; margin-right: 0px; margin-left: 0px;">
                        <div class="col-md-12 col-sm-12 col-xs-12" style="margin:0px; padding:0px; margin-left:5px;">
                          <span style="font-size:13px;">#침대</span>
                          <span style="font-size:13px;">#책상</span>
                          <span style="font-size:13px;">#행거</span>
                          <span style="font-size:13px;">#CCTV</span>
                        </div>
                      </div>-->
                    </div><!--정보 표시 끝-->
                    
                  </div>
                  </a> 
                </div>
          
                       
          
        <%# end %>
          
      <% end %>
    <%# end %>
    
    </div>
  </div>
  </div><!--방 리스트 박스 끝--> 
  
  </div><!--오른쪽 박스 끝 -->


 <script>
$(document).ready(function(){
  $.fn.addSliderSegments = function (amount, orientation) {
  return this.each(function () {
    if (orientation == "vertical") {
      var output = ''
        , i;
      for (i = 1; i <= amount - 2; i++) {
        output += '<div class="ui-slider-segment" style="top:' + 100 / (amount - 1) * i + '%;"></div>';
      };
      $(this).prepend(output);
    } else {
      var segmentGap = 100 / (amount - 1) + "%"
        , segment = '<div class="ui-slider-segment" style="margin-left: ' + segmentGap + ';"></div>';
      $(this).prepend(segment.repeat(amount - 2));
    }
  });
};
   var $slider3 = $("#slider3")
    , slider3ValueMultiplier = 1
    , slider3Options;
  
  if ($slider3.length > 0) {
    $slider3.slider({
      min: 20,
      max: 90,
      step: 10,
      animate: "fast",
      values: [ 20, 90 ],
      orientation: "horizontal",
      range: true,
      slide: function(event, ui) {
        $slider3.find(".ui-slider-value:first")
          .text(ui.values[0] * slider3ValueMultiplier)
          .end()
          .find(".ui-slider-value:last")
          .text(ui.values[1] * slider3ValueMultiplier);
      }
    });
  
    slider3Options = $slider3.slider("option");
    $slider3.addSliderSegments(slider3Options.max)
      .find(".ui-slider-value:first")
      .text(slider3Options.values[0] * slider3ValueMultiplier)
      .end()
      .find(".ui-slider-value:last")
      .text(slider3Options.values[1] * slider3ValueMultiplier);
  }
}); 

$(document).ready(function(){
    $('#login').on('show.bs.modal', function () {
       $(this).find('.modal-body').css({
              width:'auto', //probably not needed
              height:'auto', //probably not needed 
              'max-height':'50%'
       });
    });
});

      //검색 버튼 누르기 효과 시작
      $(document).ready(function() {
        
        $("#bt1").click(function(){
          $(this).addClass("active");
          $("#bt2").removeClass("active");
        });
         $("#bt2").click(function(){
          $(this).addClass("active");
          $("#bt1").removeClass("active");
        });
        $("#bt3").click(function(){
          $(this).addClass("active");
          $("#bt4").removeClass("active");
          $("#bt5").removeClass("active");
          $("#bt6").removeClass("active");
          $("#bt7").removeClass("active");
        });
        $("#bt4").click(function(){
          $(this).addClass("active");
          $("#bt3").removeClass("active");
          $("#bt5").removeClass("active");
          $("#bt6").removeClass("active");
          $("#bt7").removeClass("active");
        });
        $("#bt5").click(function(){
          $(this).addClass("active");
          $("#bt3").removeClass("active");
          $("#bt4").removeClass("active");
          $("#bt6").removeClass("active");
          $("#bt7").removeClass("active");
        });
        $("#bt6").click(function(){
          $(this).addClass("active");
          $("#bt3").removeClass("active");
          $("#bt4").removeClass("active");
          $("#bt5").removeClass("active");
          $("#bt7").removeClass("active");
        });
        $("#bt7").click(function(){
          $(this).addClass("active");
          $("#bt3").removeClass("active");
          $("#bt4").removeClass("active");
          $("#bt5").removeClass("active");
          $("#bt6").removeClass("active");
        });
        $("#bt8").click(function(){
          $(this).addClass("active");
          $("#bt9").removeClass("active");
          $("#bt10").removeClass("active");
        });
        $("#bt9").click(function(){
          $(this).addClass("active");
          $("#bt8").removeClass("active");
          $("#bt10").removeClass("active");
        });
        $("#bt10").click(function(){
          $(this).addClass("active");
          $("#bt8").removeClass("active");
          $("#bt9").removeClass("active");
        });  //검색버튼 누르기 효과 끝
      
        $("#fold").click(function(){
          //$(".map_container").slideToggle("slow"); //접기
          $(".roomList").css("width", "100%");
          $(".map_container").css("width", "0%");
          
          if($("#menu-icon").hasClass("glyphicon-menu-left") == true){
  
            //지도 있는 상태-> 없는 상태
            $("#menu-icon").removeClass("glyphicon-menu-left");
            $("#menu-icon").addClass("glyphicon-menu-right");
            $(".mainbox").removeClass("col-md-6");
            $(".mainbox").addClass("col-md-12");
            $(".room").removeClass("col-md-6");
            $(".room").addClass("col-md-3");
            $(".room").css("width","25%");
            $(".foldButton").css( "width", "1.5%");
            $(".listbox").css("width", "98.5%");

          } else  {
            //지도 없는 상태-> 있는 상태
            $(".map_container").css("width", "50%");
            $(".roomList").css("width", "100%");
            $("#menu-icon").removeClass("glyphicon-menu-right");
            $("#menu-icon").addClass("glyphicon-menu-left");
            $(".mainbox").removeClass("col-md-12");
            $(".mainbox").addClass("col-md-6");
            $(".room").removeClass("col-md-3");
            $(".room").addClass("col-md-6");
            $(".room").css("width", "50%");
            $(".foldButton").css( "width", "3%");
            $(".listbox").css("width", "97%");
          }
        });
        
        $("#ipadfold").click(function(){
            if($("#menu-icon").hasClass("glyphicon-menu-up") == true){
                //지도 있는 상태-> 없는 상태
                $("#menu-icon").removeClass("glyphicon-menu-up");
                $("#menu-icon").addClass("glyphicon-menu-down");
                $(".map_container").animate({
                    height: "0%"
                    
                    }, 700);
                $(".roomList").css("height","904px");
                
            } else {
                 //지도 없는 상태-> 있는 상태
                $("#menu-icon").removeClass("glyphicon-menu-down");
                $("#menu-icon").addClass("glyphicon-menu-up");
                $(".map_container").animate({
                    height: "46.5%"
                    
                    });
                $(".roomList").css("height","468px");
            }
        });
        
        $(".room").mouseover(function(){
          $(this).css("background-color", "#dddddd");
        });
        $(".room").mouseout(function() {
          $(this).css("background-color", "#fff");
        }); 
      });


  </script>
  
  

</body>
